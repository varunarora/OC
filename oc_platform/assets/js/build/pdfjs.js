"undefined"==typeof PDFJS&&(("undefined"!=typeof window?window:this).PDFJS={}),PDFJS.version="1.0.21",PDFJS.build="f954cde",function(){function t(t){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.infos&&console.log("Info: "+t)}function e(t){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+t)}function n(t){if(arguments.length>1){var e=["Error:"];e.push.apply(e,arguments),console.log.apply(console,e),t=[].join.call(arguments," ")}else console.log("Error: "+t);throw console.log(r()),_.notify(E.unknown),new Error(t)}function r(){try{throw new Error}catch(t){return t.stack?t.stack.split("\n").slice(2).join("\n"):""}}function a(t,e){t||n(e)}function i(t,e){if(!e)return t;if(/^[a-z][a-z0-9+\-.]*:/i.test(e))return e;var n;if("/"==e.charAt(0))return n=t.indexOf("://"),"/"===e.charAt(1)?++n:n=t.indexOf("/",n+3),t.substring(0,n)+e;var r=t.length;n=t.lastIndexOf("#"),r=n>=0?n:r,n=t.lastIndexOf("?",r),r=n>=0?n:r;var a=t.lastIndexOf("/",r);return t.substring(0,a+1)+e}function o(t,e){if(!t)return!1;var n=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(t);if(!n)return e;switch(n=n[0].toLowerCase()){case"http":case"https":case"ftp":case"mailto":return!0;default:return!1}}function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}function c(t){var e=t.length,n=8192;if(n>e)return String.fromCharCode.apply(null,t);for(var r=[],a=0;e>a;a+=n){var i=Math.min(a+n,e),o=t.subarray(a,i);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function l(t){for(var e=t.length,n=new Uint8Array(e),r=0;e>r;++r)n[r]=255&t.charCodeAt(r);return n}function h(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function u(){var t=new Uint8Array(2);t[0]=1;var e=new Uint16Array(t.buffer);return 1===e[0]}function f(){var t=document.createElement("canvas");t.width=t.height=1;var e=t.getContext("2d"),n=e.createImageData(1,1);return"undefined"!=typeof n.data.buffer}function p(t){var e,n=t.length,r=[];if("þ"===t[0]&&"ÿ"===t[1])for(e=2;n>e;e+=2)r.push(String.fromCharCode(t.charCodeAt(e)<<8|t.charCodeAt(e+1)));else for(e=0;n>e;++e){var a=U[t.charCodeAt(e)];r.push(a?String.fromCharCode(a):t.charAt(e))}return r.join("")}function d(t){return"boolean"==typeof t}function g(t){return"number"==typeof t}function A(t){return"string"==typeof t}function m(t){return t instanceof Name}function v(t,e){if(!(t instanceof Dict))return!1;if(!e)return!0;var n=t.get("Type");return m(n)&&n.name==e}function b(t){return t instanceof Array}function y(t){return"object"==typeof t&&null!==t&&void 0!==t&&"getBytes"in t}function S(t){return"object"==typeof t&&null!==t&&void 0!==t&&"byteLength"in t}function C(t,e){this.name=t,this.comObj=e,this.callbackIndex=1,this.postMessageTransfers=!0;var r=this.callbacks={},a=this.actionHandler={};a.console_log=[function(t){console.log.apply(console,t)}],a.console_error=[function(t){console.error.apply(console,t)}],a._unsupported_feature=[function(t){_.notify(t)}],e.onmessage=function(t){var i=t.data;if(i.isReply){var o=i.callbackId;if(i.callbackId in r){var s=r[o];delete r[o],s(i.data)}else n("Cannot resolve callback "+o)}else if(i.action in a){var c=a[i.action];if(i.callbackId){var l={},h=new Promise(function(t,e){l.resolve=t,l.reject=e});l.promise=h,h.then(function(t){e.postMessage({isReply:!0,callbackId:i.callbackId,data:t})}),c[0].call(c[1],i.data,l)}else c[0].call(c[1],i.data)}else n("Unkown action from worker: "+i.action)}}function P(t,e,n){var r=new Image;r.onload=function(){n.resolve(t,r)},r.src=e}function k(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,n}function x(t){t.mozCurrentTransform||(t._scaleX=t._scaleX||1,t._scaleY=t._scaleY||1,t._originalSave=t.save,t._originalRestore=t.restore,t._originalRotate=t.rotate,t._originalScale=t.scale,t._originalTranslate=t.translate,t._originalTransform=t.transform,t._originalSetTransform=t.setTransform,t._transformMatrix=[t._scaleX,0,0,t._scaleY,0,0],t._transformStack=[],Object.defineProperty(t,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(t,"mozCurrentTransformInverse",{get:function(){var t=this._transformMatrix,e=t[0],n=t[1],r=t[2],a=t[3],i=t[4],o=t[5],s=e*a-n*r,c=n*r-e*a;return[a/s,n/c,r/c,e/s,(a*i-r*o)/c,(n*i-e*o)/s]}}),t.save=function(){var t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},t.restore=function(){var t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},t.translate=function(t,e){var n=this._transformMatrix;n[4]=n[0]*t+n[2]*e+n[4],n[5]=n[1]*t+n[3]*e+n[5],this._originalTranslate(t,e)},t.scale=function(t,e){var n=this._transformMatrix;n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*e,n[3]=n[3]*e,this._originalScale(t,e)},t.transform=function(e,n,r,a,i,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*e+s[2]*n,s[1]*e+s[3]*n,s[0]*r+s[2]*a,s[1]*r+s[3]*a,s[0]*i+s[2]*o+s[4],s[1]*i+s[3]*o+s[5]],t._originalTransform(e,n,r,a,i,o)},t.setTransform=function(e,n,r,a,i,o){this._transformMatrix=[e,n,r,a,i,o],t._originalSetTransform(e,n,r,a,i,o)},t.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this._transformMatrix;this._transformMatrix=[r[0]*e+r[2]*n,r[1]*e+r[3]*n,r[0]*-n+r[2]*e,r[1]*-n+r[3]*e,r[4],r[5]],this._originalRotate(t)})}function R(t){var e,n,r,a,i=1e3,o=t.width,s=t.height,c=o+1,l=new Uint8Array(c*(s+1)),h=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=o+7&-8,f=t.data,p=new Uint8Array(u*s),d=0;for(e=0,a=f.length;a>e;e++)for(var g=128,A=f[e];g>0;)p[d++]=A&g?0:255,g>>=1;var m=0;for(d=0,0!==p[d]&&(l[0]=1,++m),n=1;o>n;n++)p[d]!==p[d+1]&&(l[n]=p[d]?2:1,++m),d++;for(0!==p[d]&&(l[n]=2,++m),e=1;s>e;e++){d=e*u,r=e*c,p[d-u]!==p[d]&&(l[r]=p[d]?1:8,++m);var v=(p[d]?4:0)+(p[d-u]?8:0);for(n=1;o>n;n++)v=(v>>2)+(p[d+1]?4:0)+(p[d-u+1]?8:0),h[v]&&(l[r+n]=h[v],++m),d++;if(p[d-u]!==p[d]&&(l[r+n]=p[d]?2:4,++m),m>i)return null}for(d=u*(s-1),r=e*c,0!==p[d]&&(l[r]=8,++m),n=1;o>n;n++)p[d]!==p[d+1]&&(l[r+n]=p[d]?4:8,++m),d++;if(0!==p[d]&&(l[r+n]=4,++m),m>i)return null;var b=new Int32Array([0,c,-1,0,-c,0,0,0,1]),y=[];for(e=0;m&&s>=e;e++){for(var S=e*c,C=S+o;C>S&&!l[S];)S++;if(S!==C){var P,k=[S%c,e],x=l[S],R=S;do{var D=b[x];do S+=D;while(!l[S]);P=l[S],5!==P&&10!==P?(x=P,l[S]=0):(x=P&51*x>>4,l[S]&=x>>2|x<<2),k.push(S%c),k.push(S/c|0),--m}while(R!==S);y.push(k),--e}}var w=function(t){t.save(),t.scale(1/o,-1/s),t.translate(0,-s),t.beginPath();for(var e=0,n=y.length;n>e;e++){var r=y[e];t.moveTo(r[0],r[1]);for(var a=2,i=r.length;i>a;a+=2)t.lineTo(r[a],r[a+1])}t.fill(),t.beginPath(),t.restore()};return w}function D(t){var e=ke[t[0]];return e||n("Unknown IR type: "+t[0]),e.fromIR(t)}var w="undefined"==typeof window?this:window,F="undefined"==typeof window,T=[.001,0,0,.001,0,0],I={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},L={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};w.PDFJS||(w.PDFJS={}),w.PDFJS.pdfBug=!1,PDFJS.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};var M=PDFJS.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90},E=PDFJS.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},_=PDFJS.UnsupportedManager=function(){var t=[];return{listen:function(e){t.push(e)},notify:function(n){e('Unsupported feature "'+n+'"');for(var r=0,a=t.length;a>r;r++)t[r](n)}}}();PDFJS.isValidUrl=o;{var O=PDFJS.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},j=(function(){function t(t,e){this.name="PasswordException",this.message=t,this.code=e}return t.prototype=new Error,t.constructor=t,t}(),function(){function t(t,e){this.name="UnknownErrorException",this.message=t,this.details=e}return t.prototype=new Error,t.constructor=t,t}(),function(){function t(t){this.name="InvalidPDFException",this.message=t}return t.prototype=new Error,t.constructor=t,t}(),function(){function t(t){this.name="MissingPDFException",this.message=t}return t.prototype=new Error,t.constructor=t,t}(),function(){function t(t){this.message=t}return t.prototype=new Error,t.prototype.name="NotImplementedException",t.constructor=t,t}());!function(){function t(t,e){this.begin=t,this.end=e,this.message="Missing data ["+t+", "+e+")"}return t.prototype=new Error,t.prototype.name="MissingDataException",t.constructor=t,t}(),function(){function t(t){this.message=t}return t.prototype=new Error,t.prototype.name="XRefParseException",t.constructor=t,t}()}Object.defineProperty(PDFJS,"isLittleEndian",{configurable:!0,get:function(){return s(PDFJS,"isLittleEndian",u())}}),Object.defineProperty(PDFJS,"hasCanvasTypedArrays",{configurable:!0,get:function(){return s(PDFJS,"hasCanvasTypedArrays",f())}});var B=function(){function t(t,e){this.buffer=t,this.byteLength=t.length,this.length=void 0===e?this.byteLength>>2:e,n(this.length)}function e(t){return{get:function(){var e=this.buffer,n=t<<2;return(e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24)>>>0},set:function(e){var n=this.buffer,r=t<<2;n[r]=255&e,n[r+1]=e>>8&255,n[r+2]=e>>16&255,n[r+3]=e>>>24&255}}}function n(n){for(;n>r;)Object.defineProperty(t.prototype,r,e(r)),r++}t.prototype=Object.create(null);var r=0;return t}(),J=[1,0,0,1,0,0],G=PDFJS.Util=function(){function t(){}return t.makeCssRgb=function(t){return"rgb("+t[0]+","+t[1]+","+t[2]+")"},t.makeCssCmyk=function(e){var n=Y.singletons.cmyk.getRgb(e,0);return t.makeCssRgb(n)},t.transform=function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]},t.applyTransform=function(t,e){var n=t[0]*e[0]+t[1]*e[2]+e[4],r=t[0]*e[1]+t[1]*e[3]+e[5];return[n,r]},t.applyInverseTransform=function(t,e){var n=e[0]*e[3]-e[1]*e[2],r=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,a=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[r,a]},t.getAxialAlignedBoundingBox=function(e,n){var r=t.applyTransform(e,n),a=t.applyTransform(e.slice(2,4),n),i=t.applyTransform([e[0],e[3]],n),o=t.applyTransform([e[2],e[1]],n);return[Math.min(r[0],a[0],i[0],o[0]),Math.min(r[1],a[1],i[1],o[1]),Math.max(r[0],a[0],i[0],o[0]),Math.max(r[1],a[1],i[1],o[1])]},t.inverseTransform=function(t){var e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]},t.apply3dTransform=function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]},t.singularValueDecompose2dScale=function(t){var e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],a=t[2]*e[0]+t[3]*e[2],i=t[2]*e[1]+t[3]*e[3],o=(n+i)/2,s=Math.sqrt((n+i)*(n+i)-4*(n*i-a*r))/2,c=o+s||1,l=o-s||1;return[Math.sqrt(c),Math.sqrt(l)]},t.normalizeRect=function(t){var e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e},t.intersect=function(e,n){function r(t,e){return t-e}var a=[e[0],e[2],n[0],n[2]].sort(r),i=[e[1],e[3],n[1],n[3]].sort(r),o=[];return e=t.normalizeRect(e),n=t.normalizeRect(n),a[0]===e[0]&&a[1]===n[0]||a[0]===n[0]&&a[1]===e[0]?(o[0]=a[1],o[2]=a[2],i[0]===e[1]&&i[1]===n[1]||i[0]===n[1]&&i[1]===e[1]?(o[1]=i[1],o[3]=i[2],o):!1):!1},t.sign=function(t){return 0>t?-1:1},t.concatenateToArray=function(t,e){Array.prototype.push.apply(t,e)},t.prependToArray=function(t,e){Array.prototype.unshift.apply(t,e)},t.extendObj=function(t,e){for(var n in e)t[n]=e[n]},t.getInheritableProperty=function(t,e){for(;t&&!t.has(e);)t=t.get("Parent");return t?t.get(e):null},t.inherit=function(t,e,n){t.prototype=Object.create(e.prototype),t.prototype.constructor=t;for(var r in n)t.prototype[r]=n[r]},t.loadScript=function(t,e){var n=document.createElement("script"),r=!1;n.setAttribute("src",t),e&&(n.onload=function(){r||e(),r=!0}),document.getElementsByTagName("head")[0].appendChild(n)},t}(),U=(PDFJS.PageViewport=function(){function t(t,e,n,r,a,i){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=r,this.offsetY=a;var o,s,c,l,h=(t[2]+t[0])/2,u=(t[3]+t[1])/2;switch(n%=360,n=0>n?n+360:n){case 180:o=-1,s=0,c=0,l=1;break;case 90:o=0,s=1,c=1,l=0;break;case 270:o=0,s=-1,c=-1,l=0;break;default:o=1,s=0,c=0,l=-1}i&&(c=-c,l=-l);var f,p,d,g;0===o?(f=Math.abs(u-t[1])*e+r,p=Math.abs(h-t[0])*e+a,d=Math.abs(t[3]-t[1])*e,g=Math.abs(t[2]-t[0])*e):(f=Math.abs(h-t[0])*e+r,p=Math.abs(u-t[1])*e+a,d=Math.abs(t[2]-t[0])*e,g=Math.abs(t[3]-t[1])*e),this.transform=[o*e,s*e,c*e,l*e,f-o*e*h-c*e*u,p-s*e*h-l*e*u],this.width=d,this.height=g,this.fontScale=e}return t.prototype={clone:function(e){e=e||{};var n="scale"in e?e.scale:this.scale,r="rotation"in e?e.rotation:this.rotation;return new t(this.viewBox.slice(),n,r,this.offsetX,this.offsetY,e.dontFlip)},convertToViewportPoint:function(t,e){return G.applyTransform([t,e],this.transform)},convertToViewportRectangle:function(t){var e=G.applyTransform([t[0],t[1]],this.transform),n=G.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]},convertToPdfPoint:function(t,e){return G.applyInverseTransform([t,e],this.transform)}},t}(),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]),W=PDFJS.LegacyPromise=function(){return function(){var t,e,n=new Promise(function(n,r){t=n,e=r});return n.resolve=t,n.reject=e,n}}();!function(){function t(t){this._status=n,this._handlers=[],t.call(this,this._resolve.bind(this),this._reject.bind(this))}if(w.Promise)return"function"!=typeof w.Promise.all&&(w.Promise.all=function(t){var e,n,r=0,a=[],i=new w.Promise(function(t,r){e=t,n=r});return t.forEach(function(t,i){r++,t.then(function(t){a[i]=t,r--,0===r&&e(a)},n)}),0===r&&e(a),i}),void("function"!=typeof w.Promise.resolve&&(w.Promise.resolve=function(t){return new w.Promise(function(e){e(t)})}));var n=0,r=1,a=2,i=500,o={handlers:[],running:!1,unhandledRejections:[],pendingRejectionCheck:!1,scheduleHandlers:function(t){t._status!=n&&(this.handlers=this.handlers.concat(t._handlers),t._handlers=[],this.running||(this.running=!0,setTimeout(this.runHandlers.bind(this),0)))},runHandlers:function(){for(var t=1,e=Date.now()+t;this.handlers.length>0;){var n=this.handlers.shift(),i=n.thisPromise._status,o=n.thisPromise._value;try{i===r?"function"==typeof n.onResolve&&(o=n.onResolve(o)):"function"==typeof n.onReject&&(o=n.onReject(o),i=r,n.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(n.thisPromise))}catch(s){i=a,o=s}if(n.nextPromise._updateStatus(i,o),Date.now()>=e)break}return this.handlers.length>0?void setTimeout(this.runHandlers.bind(this),0):void(this.running=!1)},addUnhandledRejection:function(t){this.unhandledRejections.push({promise:t,time:Date.now()}),this.scheduleRejectionCheck()},removeUnhandeledRejection:function(t){t._unhandledRejection=!1;for(var e=0;e<this.unhandledRejections.length;e++)this.unhandledRejections[e].promise===t&&(this.unhandledRejections.splice(e),e--)},scheduleRejectionCheck:function(){this.pendingRejectionCheck||(this.pendingRejectionCheck=!0,setTimeout(function(){this.pendingRejectionCheck=!1;for(var t=Date.now(),n=0;n<this.unhandledRejections.length;n++)if(t-this.unhandledRejections[n].time>i){var r=this.unhandledRejections[n].promise._value,a="Unhandled rejection: "+r;r.stack&&(a+="\n"+r.stack),e(a),this.unhandledRejections.splice(n),n--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),i))}};t.all=function(e){function n(t){o._status!==a&&(c=[],i(t))}var r,i,o=new t(function(t,e){r=t,i=e}),s=e.length,c=[];if(0===s)return r(c),o;for(var l=0,h=e.length;h>l;++l){var u=e[l],f=function(t){return function(e){o._status!==a&&(c[t]=e,s--,0===s&&r(c))}}(l);t.isPromise(u)?u.then(f,n):f(u)}return o},t.isPromise=function(t){return t&&"function"==typeof t.then},t.resolve=function(e){return new t(function(t){t(e)})},t.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(e,n){if(this._status!==r&&this._status!==a){if(e==r&&t.isPromise(n))return void n.then(this._updateStatus.bind(this,r),this._updateStatus.bind(this,a));this._status=e,this._value=n,e===a&&0===this._handlers.length&&(this._unhandledRejection=!0,o.addUnhandledRejection(this)),o.scheduleHandlers(this)}},_resolve:function(t){this._updateStatus(r,t)},_reject:function(t){this._updateStatus(a,t)},then:function(e,n){var r=new t(function(t,e){this.resolve=e,this.reject=e});return this._handlers.push({thisPromise:this,onResolve:e,onReject:n,nextPromise:r}),o.scheduleHandlers(this),r}},w.Promise=t}();var N=function(){function t(t,e,n){for(;t.length<n;)t+=e;return t}function n(){this.started={},this.times=[],this.enabled=!0}return n.prototype={time:function(t){this.enabled&&(t in this.started&&e("Timer is already running for "+t),this.started[t]=Date.now())},timeEnd:function(t){this.enabled&&(t in this.started||e("Timer has not been started for "+t),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t])},toString:function(){var e,n,r=this.times,a="",i=0;for(e=0,n=r.length;n>e;++e){var o=r[e].name;o.length>i&&(i=o.length)}for(e=0,n=r.length;n>e;++e){var s=r[e],c=s.end-s.start;a+=t(s.name," ",i)+" "+c+"ms\n"}return a}},n}();PDFJS.createBlob=function(t,e){if("undefined"!=typeof Blob)return new Blob([t],{type:e});var n=new MozBlobBuilder;return n.append(t),n.getBlob(e)},PDFJS.createObjectURL=function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(e,n){if(!PDFJS.disableCreateObjectURL&&"undefined"!=typeof URL&&URL.createObjectURL){var r=PDFJS.createBlob(e,n);return URL.createObjectURL(r)}for(var a="data:"+n+";base64,",i=0,o=e.length;o>i;i+=3){var s=255&e[i],c=255&e[i+1],l=255&e[i+2],h=s>>2,u=(3&s)<<4|c>>4,f=o>i+1?(15&c)<<2|l>>6:64,p=o>i+2?63&l:64;a+=t[h]+t[u]+t[f]+t[p]}return a}}(),C.prototype={on:function(t,e,r){var a=this.actionHandler;a[t]&&n('There is already an actionName called "'+t+'"'),a[t]=[e,r]},send:function(t,e,n,r){var a={action:t,data:e};if(n){var i=this.callbackIndex++;this.callbacks[i]=n,a.callbackId=i}r&&this.postMessageTransfers?this.comObj.postMessage(a,r):this.comObj.postMessage(a)}};var Y=function(){function t(){n("should not call ColorSpace constructor")}return t.prototype={getRgb:function(t,e){var n=new Uint8Array(3);return this.getRgbItem(t,e,n,0),n},getRgbItem:function(){n("Should not call ColorSpace.getRgbItem")},getRgbBuffer:function(){n("Should not call ColorSpace.getRgbBuffer")},getOutputLength:function(){n("Should not call ColorSpace.getOutputLength")},isPassthrough:function(){return!1},fillRgb:function(t,e,n,r,a,i,o,s,c){var l,h,u=e*n,f=null,p=1<<o,d=n!=a||e!=r;if(this.isPassthrough(o))f=s;else if(1===this.numComps&&u>p&&"DeviceGray"!==this.name&&"DeviceRGB"!==this.name){var g,A=8>=o?new Uint8Array(p):new Uint16Array(p);for(l=0;p>l;l++)A[l]=l;var m=new Uint8Array(3*p);this.getRgbBuffer(A,0,p,m,0,o,0);var v,b;if(d)for(f=new Uint8Array(3*u),b=0,l=0;u>l;++l)g=3*s[l],f[b++]=m[g],f[b++]=m[g+1],f[b++]=m[g+2];else for(v=0,l=0;u>l;++l)g=3*s[l],t[v++]=m[g],t[v++]=m[g+1],t[v++]=m[g+2],v+=c}else d?(f=new Uint8Array(3*u),this.getRgbBuffer(s,0,u,f,0,o,0)):this.getRgbBuffer(s,0,r*i,t,0,o,c);if(f)for(d&&(f=PDFImage.resize(f,o,3,e,n,r,a)),b=0,v=0,l=0,h=r*i;h>l;l++)t[v++]=f[b++],t[v++]=f[b++],t[v++]=f[b++],v+=c},usesZeroToOneRange:!0},t.parse=function(e,n,r){var a=t.parseToIR(e,n,r);return a instanceof X?a:t.fromIR(a)},t.fromIR=function(e){var r,a,i=b(e)?e[0]:e;switch(i){case"DeviceGrayCS":return this.singletons.gray;case"DeviceRgbCS":return this.singletons.rgb;case"DeviceCmykCS":return this.singletons.cmyk;case"CalGrayCS":r=e[1].WhitePoint,a=e[1].BlackPoint;var o=e[1].Gamma;return new Z(r,a,o);case"PatternCS":var s=e[1];return s&&(s=t.fromIR(s)),new z(s);case"IndexedCS":var c=e[1],l=e[2],h=e[3];return new H(t.fromIR(c),l,h);case"AlternateCS":var u=e[1],f=e[2],p=e[3];return new X(u,t.fromIR(f),$.fromIR(p));case"LabCS":r=e[1].WhitePoint,a=e[1].BlackPoint;var d=e[1].Range;return new K(r,a,d);default:n("Unkown name "+i)}return null},t.parseToIR=function(e,r,a){if(m(e)){var i=a.get("ColorSpace");if(v(i)){var o=i.get(e.name);o&&(e=o)}}e=r.fetchIfRef(e);var s;if(m(e))switch(s=e.name,this.mode=s,s){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"Pattern":return["PatternCS",null];default:n("unrecognized colorspace "+s)}else if(b(e)){s=e[0].name,this.mode=s;var c,l;switch(s){case"DeviceGray":case"G":return"DeviceGrayCS";case"DeviceRGB":case"RGB":return"DeviceRgbCS";case"DeviceCMYK":case"CMYK":return"DeviceCmykCS";case"CalGray":return l=e[1].getAll(),["CalGrayCS",l];case"CalRGB":return"DeviceRgbCS";case"ICCBased":var h=r.fetchIfRef(e[1]),u=h.dict;if(c=u.get("N"),1==c)return"DeviceGrayCS";if(3==c)return"DeviceRgbCS";if(4==c)return"DeviceCmykCS";break;case"Pattern":var f=e[1];return f&&(f=t.parseToIR(f,r,a)),["PatternCS",f];case"Indexed":case"I":var p=t.parseToIR(e[1],r,a),d=e[2]+1,g=r.fetchIfRef(e[3]);return y(g)&&(g=g.getBytes()),["IndexedCS",p,d,g];case"Separation":case"DeviceN":var A=e[1];c=1,m(A)?c=1:b(A)&&(c=A.length);var S=t.parseToIR(e[2],r,a),C=$.getIR(r,r.fetchIfRef(e[3]));return["AlternateCS",c,S,C];case"Lab":return l=e[1].getAll(),["LabCS",l];default:n('unimplemented color space object "'+s+'"')}}else n('unrecognized color space object: "'+e+'"');return null},t.isDefaultDecode=function(t,n){if(!t)return!0;if(2*n!==t.length)return e("The decode map is not the correct length"),!0;for(var r=0,a=t.length;a>r;r+=2)if(0!==t[r]||1!=t[r+1])return!1;return!0},t.singletons={get gray(){return s(this,"gray",new Q)},get rgb(){return s(this,"rgb",new V)},get cmyk(){return s(this,"cmyk",new q)}},t}(),X=function(){function t(t,e,n){this.name="Alternate",this.numComps=t,this.defaultColor=new Float32Array(t);for(var r=0;t>r;++r)this.defaultColor[r]=1;this.base=e,this.tintFn=n}return t.prototype={getRgb:Y.prototype.getRgb,getRgbItem:function(t,e,n,r){var a=(this.base.numComps,"subarray"in t?t.subarray(e,e+this.numComps):Array.prototype.slice.call(t,e,e+this.numComps)),i=this.tintFn(a);this.base.getRgbItem(i,0,n,r)},getRgbBuffer:function(t,e,n,r,a,i,o){var s,c,l=this.tintFn,h=this.base,u=1/((1<<i)-1),f=h.numComps,p=h.usesZeroToOneRange,d=(h.isPassthrough(8)||!p)&&0===o,g=d?a:0,A=d?r:new Uint8Array(f*n),m=this.numComps,v=new Float32Array(m);for(s=0;n>s;s++){for(c=0;m>c;c++)v[c]=t[e++]*u;var b=l(v);if(p)for(c=0;f>c;c++)A[g++]=255*b[c];else h.getRgbItem(b,0,A,g),g+=f}d||h.getRgbBuffer(A,0,n,r,a,8,o)},getOutputLength:function(t,e){return this.base.getOutputLength(t*this.base.numComps/this.numComps,e)},isPassthrough:Y.prototype.isPassthrough,fillRgb:Y.prototype.fillRgb,isDefaultDecode:function(t){return Y.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:!0},t}(),z=function(){function t(t){this.name="Pattern",this.base=t}return t.prototype={},t}(),H=function(){function t(t,e,r){this.name="Indexed",this.numComps=1,this.defaultColor=new Uint8Array([0]),this.base=t,this.highVal=e;var a,i=t.numComps,o=i*e;if(y(r)){a=new Uint8Array(o);var s=r.getBytes(o);a.set(s)}else if(A(r)){a=new Uint8Array(o);for(var c=0;o>c;++c)a[c]=r.charCodeAt(c)}else r instanceof Uint8Array||r instanceof Array?a=r:n("Unrecognized lookup table: "+r);this.lookup=a}return t.prototype={getRgb:Y.prototype.getRgb,getRgbItem:function(t,e,n,r){var a=this.base.numComps,i=t[e]*a;this.base.getRgbItem(this.lookup,i,n,r)},getRgbBuffer:function(t,e,n,r,a,i,o){for(var s=this.base,c=s.numComps,l=s.getOutputLength(c,o),h=this.lookup,u=0;n>u;++u){var f=t[e++]*c;s.getRgbBuffer(h,f,1,r,a,8,o),a+=l}},getOutputLength:function(t,e){return this.base.getOutputLength(t*this.base.numComps,e)},isPassthrough:Y.prototype.isPassthrough,fillRgb:Y.prototype.fillRgb,isDefaultDecode:function(){return!0},usesZeroToOneRange:!0},t}(),Q=function(){function t(){this.name="DeviceGray",this.numComps=1,this.defaultColor=new Float32Array([0])}return t.prototype={getRgb:Y.prototype.getRgb,getRgbItem:function(t,e,n,r){var a=255*t[e]|0;a=0>a?0:a>255?255:a,n[r]=n[r+1]=n[r+2]=a},getRgbBuffer:function(t,e,n,r,a,i,o){for(var s=255/((1<<i)-1),c=e,l=a,h=0;n>h;++h){var u=s*t[c++]|0;r[l++]=u,r[l++]=u,r[l++]=u,l+=o}},getOutputLength:function(t,e){return t*(3+e)},isPassthrough:Y.prototype.isPassthrough,fillRgb:Y.prototype.fillRgb,isDefaultDecode:function(t){return Y.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:!0},t}(),V=function(){function t(){this.name="DeviceRGB",this.numComps=3,this.defaultColor=new Float32Array([0,0,0])}return t.prototype={getRgb:Y.prototype.getRgb,getRgbItem:function(t,e,n,r){var a=255*t[e]|0,i=255*t[e+1]|0,o=255*t[e+2]|0;n[r]=0>a?0:a>255?255:a,n[r+1]=0>i?0:i>255?255:i,n[r+2]=0>o?0:o>255?255:o},getRgbBuffer:function(t,e,n,r,a,i,o){if(8===i&&0===o)return void r.set(t.subarray(e,e+3*n),a);for(var s=255/((1<<i)-1),c=e,l=a,h=0;n>h;++h)r[l++]=s*t[c++]|0,r[l++]=s*t[c++]|0,r[l++]=s*t[c++]|0,l+=o},getOutputLength:function(t,e){return t*(3+e)/3|0},isPassthrough:function(t){return 8==t},fillRgb:Y.prototype.fillRgb,isDefaultDecode:function(t){return Y.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:!0},t}(),q=function(){function t(t,e,n,r,a){var i=t[e+0]*n,o=t[e+1]*n,s=t[e+2]*n,c=t[e+3]*n,l=i*(-4.387332384609988*i+54.48615194189176*o+18.82290502165302*s+212.25662451639585*c+-285.2331026137004)+o*(1.7149763477362134*o-5.6096736904047315*s+-17.873870861415444*c-5.497006427196366)+s*(-2.5217340131683033*s-21.248923337353073*c+17.5119270841813)+c*(-21.86122147463605*c-189.48180835922747)+255,h=i*(8.841041422036149*i+60.118027045597366*o+6.871425592049007*s+31.159100130055922*c+-79.2970844816548)+o*(-15.310361306967817*o+17.575251261109482*s+131.35250912493976*c-190.9453302588951)+s*(4.444339102852739*s+9.8632861493405*c-24.86741582555878)+c*(-20.737325471181034*c-187.80453709719578)+255,u=i*(.8842522430003296*i+8.078677503112928*o+30.89978309703729*s-.23883238689178934*c+-14.183576799673286)+o*(10.49593273432072*o+63.02378494754052*s+50.606957656360734*c-112.23884253719248)+s*(.03296041114873217*s+115.60384449646641*c+-193.58209356861505)+c*(-22.33816807309886*c-180.12613974708367)+255;r[a]=l>255?255:0>l?0:l,r[a+1]=h>255?255:0>h?0:h,r[a+2]=u>255?255:0>u?0:u}function e(){this.name="DeviceCMYK",this.numComps=4,this.defaultColor=new Float32Array([0,0,0,1])}return e.prototype={getRgb:Y.prototype.getRgb,getRgbItem:function(e,n,r,a){t(e,n,1,r,a)},getRgbBuffer:function(e,n,r,a,i,o,s){for(var c=1/((1<<o)-1),l=0;r>l;l++)t(e,n,c,a,i),n+=4,i+=3+s},getOutputLength:function(t,e){return t/4*(3+e)|0},isPassthrough:Y.prototype.isPassthrough,fillRgb:Y.prototype.fillRgb,isDefaultDecode:function(t){return Y.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:!0},e}(),Z=function(){function r(r,a,i){this.name="CalGray",this.numComps=1,this.defaultColor=new Float32Array([0]),r||n("WhitePoint missing - required for color space CalGray"),a=a||[0,0,0],i=i||1,this.XW=r[0],this.YW=r[1],this.ZW=r[2],this.XB=a[0],this.YB=a[1],this.ZB=a[2],this.G=i,(this.XW<0||this.ZW<0||1!==this.YW)&&n("Invalid WhitePoint components for "+this.name+", no fallback available"),(this.XB<0||this.YB<0||this.ZB<0)&&(t("Invalid BlackPoint for "+this.name+", falling back to default"),this.XB=this.YB=this.ZB=0),(0!==this.XB||0!==this.YB||0!==this.ZB)&&e(this.name+", BlackPoint: XB: "+this.XB+", YB: "+this.YB+", ZB: "+this.ZB+", only default values are supported."),this.G<1&&(t("Invalid Gamma: "+this.G+" for "+this.name+", falling back to default"),this.G=1)}function a(t,e,n,r,a,i){var o=e[n]*i,s=Math.pow(o,t.G),c=(t.XW*s,t.YW*s),l=(t.ZW*s,c),h=Math.max(116*Math.pow(l,1/3)-16,0);r[a]=255*h/100,r[a+1]=255*h/100,r[a+2]=255*h/100}return r.prototype={getRgb:Y.prototype.getRgb,getRgbItem:function(t,e,n,r){a(this,t,e,n,r,1)},getRgbBuffer:function(t,e,n,r,i,o,s){for(var c=1/((1<<o)-1),l=0;n>l;++l)a(this,t,e,r,i,c),e+=1,i+=3+s},getOutputLength:function(t,e){return t*(3+e)},isPassthrough:Y.prototype.isPassthrough,fillRgb:Y.prototype.fillRgb,isDefaultDecode:function(t){return Y.isDefaultDecode(t,this.numComps)},usesZeroToOneRange:!0},r}(),K=function(){function e(e,r,a){this.name="Lab",this.numComps=3,this.defaultColor=new Float32Array([0,0,0]),e||n("WhitePoint missing - required for color space Lab"),r=r||[0,0,0],a=a||[-100,100,-100,100],this.XW=e[0],this.YW=e[1],this.ZW=e[2],this.amin=a[0],this.amax=a[1],this.bmin=a[2],this.bmax=a[3],this.XB=r[0],this.YB=r[1],this.ZB=r[2],(this.XW<0||this.ZW<0||1!==this.YW)&&n("Invalid WhitePoint components, no fallback available"),(this.XB<0||this.YB<0||this.ZB<0)&&(t("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&(t("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}function r(t){return t>=6/29?t*t*t:108/841*(t-4/29)}function a(t,e,n,r){return n+t*(r-n)/e}function i(t,e,n,i,o,s){var c=e[n],l=e[n+1],h=e[n+2];i!==!1&&(c=a(c,i,0,100),l=a(l,i,t.amin,t.amax),h=a(h,i,t.bmin,t.bmax)),l=l>t.amax?t.amax:l<t.amin?t.amin:l,h=h>t.bmax?t.bmax:h<t.bmin?t.bmin:h;var u,f,p,d=(c+16)/116,g=d+l/500,A=d-h/200,m=t.XW*r(g),v=t.YW*r(d),b=t.ZW*r(A);t.ZW<1?(u=3.1339*m+-1.617*v+b*-.4906,f=m*-.9785+1.916*v+.0333*b,p=.072*m+v*-.229+1.4057*b):(u=3.2406*m+-1.5372*v+b*-.4986,f=m*-.9689+1.8758*v+.0415*b,p=.0557*m+v*-.204+1.057*b),o[s]=0>=u?0:u>=1?255:255*Math.sqrt(u)|0,o[s+1]=0>=f?0:f>=1?255:255*Math.sqrt(f)|0,o[s+2]=0>=p?0:p>=1?255:255*Math.sqrt(p)|0}return e.prototype={getRgb:Y.prototype.getRgb,getRgbItem:function(t,e,n,r){i(this,t,e,!1,n,r)},getRgbBuffer:function(t,e,n,r,a,o,s){for(var c=(1<<o)-1,l=0;n>l;l++)i(this,t,e,c,r,a),e+=3,a+=3+s},getOutputLength:function(t,e){return t*(3+e)/3|0},isPassthrough:Y.prototype.isPassthrough,isDefaultDecode:function(){return!0},usesZeroToOneRange:!1},e}(),$=function(){var e=0,r=2,a=3,i=4;return{getSampleArray:function(t,e,n,r){var a,i,o=1;for(a=0,i=t.length;i>a;a++)o*=t[a];o*=e;var s=[],c=0,l=0,h=1/(Math.pow(2,n)-1),u=r.getBytes((o*n+7)/8),f=0;for(a=0;o>a;a++){for(;n>c;)l<<=8,l|=u[f++],c+=8;c-=n,s.push((l>>c)*h),l&=(1<<c)-1}return s},getIR:function(t,e){var r=e.dict;r||(r=e);var a=[this.constructSampled,null,this.constructInterpolated,this.constructStiched,this.constructPostScript],i=r.get("FunctionType"),o=a[i];return o||n("Unknown type of function"),o.call(this,e,r,t)},fromIR:function(t){var n=t[0];switch(n){case e:return this.constructSampledFromIR(t);
case r:return this.constructInterpolatedFromIR(t);case a:return this.constructStichedFromIR(t);default:return this.constructPostScriptFromIR(t)}},parse:function(t,e){var n=this.getIR(t,e);return this.fromIR(n)},constructSampled:function(r,a){function i(t){for(var e=t.length,n=(t.length/2,[]),r=0,a=0;e>a;a+=2)n[r]=[t[a],t[a+1]],++r;return n}var o=a.get("Domain"),s=a.get("Range");o&&s||n("No domain or range");var c=o.length/2,l=s.length/2;o=i(o),s=i(s);var h=a.get("Size"),u=a.get("BitsPerSample"),f=a.get("Order")||1;1!==f&&t("No support for cubic spline interpolation: "+f);var p=a.get("Encode");if(!p){p=[];for(var d=0;c>d;++d)p.push(0),p.push(h[d]-1)}p=i(p);var g=a.get("Decode");g=g?i(g):s;var A=this.getSampleArray(h,l,u,r);return[e,c,o,p,g,A,h,l,Math.pow(2,u)-1,s]},constructSampledFromIR:function(t){function e(t,e,n,r,a){return r+(t-e)*((a-r)/(n-e))}return function(r){var a=t[1],i=t[2],o=t[3],s=t[4],c=t[5],l=t[6],h=t[7],u=(t[8],t[9]);a!=r.length&&n("Incorrect number of arguments: "+a+" != "+r.length);var f,p,d=r,g=1<<a,A=new Float64Array(g),m=new Uint32Array(g);for(p=0;g>p;p++)A[p]=1;var v=h,b=1;for(f=0;a>f;++f){var y=i[f][0],S=i[f][1],C=Math.min(Math.max(d[f],y),S),P=e(C,y,S,o[f][0],o[f][1]),k=l[f];P=Math.min(Math.max(P,0),k-1);var x=k-1>P?Math.floor(P):P-1,R=x+1-P,D=P-x,w=x*v,F=w+v;for(p=0;g>p;p++)p&b?(A[p]*=D,m[p]+=F):(A[p]*=R,m[p]+=w);v*=k,b<<=1}var T=new Float64Array(h);for(p=0;h>p;++p){var I=0;for(f=0;g>f;f++)I+=c[m[f]+p]*A[f];I=e(I,0,1,s[p][0],s[p][1]),T[p]=Math.min(Math.max(I,u[p][0]),u[p][1])}return T}},constructInterpolated:function(t,e){var a=e.get("C0")||[0],i=e.get("C1")||[1],o=e.get("N");b(a)&&b(i)||n("Illegal dictionary for interpolated function");for(var s=a.length,c=[],l=0;s>l;++l)c.push(i[l]-a[l]);return[r,a,c,o]},constructInterpolatedFromIR:function(t){var e=t[1],n=t[2],r=t[3],a=n.length;return function(t){for(var i=1==r?t[0]:Math.pow(t[0],r),o=[],s=0;a>s;++s)o.push(e[s]+i*n[s]);return o}},constructStiched:function(t,e,r){var i=e.get("Domain");i||n("No domain");var o=i.length/2;1!=o&&n("Bad domain for stiched function");for(var s=e.get("Functions"),c=[],l=0,h=s.length;h>l;++l)c.push($.getIR(r,r.fetchIfRef(s[l])));var u=e.get("Bounds"),f=e.get("Encode");return[a,i,u,f,c]},constructStichedFromIR:function(t){for(var e=t[1],n=t[2],r=t[3],a=t[4],i=[],o=0,s=a.length;s>o;o++)i.push($.fromIR(a[o]));return function(t){for(var a=function(t,e,n){return t>n?t=n:e>t&&(t=e),t},o=a(t[0],e[0],e[1]),s=0,c=n.length;c>s&&!(o<n[s]);++s);var l=e[0];s>0&&(l=n[s-1]);var h=e[1];s<n.length&&(h=n[s]);var u=r[2*s],f=r[2*s+1],p=u+(o-l)*(f-u)/(h-l);return i[s]([p])}},constructPostScript:function(t,e){var r=e.get("Domain"),a=e.get("Range");r||n("No domain."),a||n("No range.");var o=new PostScriptLexer(t),s=new PostScriptParser(o),c=s.parse();return[i,r,a,c]},constructPostScriptFromIR:function(t){var e=t[1],n=t[2],r=t[3],a=n.length/2,i=new ne(r),o=new te;return function(t){for(var r=[],s=0,c=e.length/2;c>s;++s)r.push(t[s]);var l=r.join("_");if(o.has(l))return o.get(l);var h=i.execute(r),u=[];for(s=a-1;s>=0;--s){var f=h.pop(),p=2*s;f<n[p]?f=n[p]:f>n[p+1]&&(f=n[p+1]),u[s]=f}return o.set(l,u),u}}}}(),te=function(){function t(){this.cache={},this.total=0}var e=1024;return t.prototype={has:function(t){return t in this.cache},get:function(t){return this.cache[t]},set:function(t,n){this.total<e&&(this.cache[t]=n,this.total++)}},t}(),ee=function(){function t(t){this.stack=t||[]}var e=100;return t.prototype={push:function(t){this.stack.length>=e&&n("PostScript function stack overflow."),this.stack.push(t)},pop:function(){return this.stack.length<=0&&n("PostScript function stack underflow."),this.stack.pop()},copy:function(t){this.stack.length+t>=e&&n("PostScript function stack overflow.");for(var r=this.stack,a=r.length-t,i=t-1;i>=0;i--,a++)r.push(r[a])},index:function(t){this.push(this.stack[this.stack.length-t-1])},roll:function(t,e){var n,r,a,i=this.stack,o=i.length-t,s=i.length-1,c=o+(e-Math.floor(e/t)*t);for(n=o,r=s;r>n;n++,r--)a=i[n],i[n]=i[r],i[r]=a;for(n=o,r=c-1;r>n;n++,r--)a=i[n],i[n]=i[r],i[r]=a;for(n=c,r=s;r>n;n++,r--)a=i[n],i[n]=i[r],i[r]=a}},t}(),ne=function(){function t(t){this.operators=t}return t.prototype={execute:function(t){for(var e,r,a,i=new ee(t),o=0,s=this.operators,c=s.length;c>o;)if(e=s[o++],"number"!=typeof e)switch(e){case"jz":a=i.pop(),r=i.pop(),r||(o=a);break;case"j":r=i.pop(),o=r;break;case"abs":r=i.pop(),i.push(Math.abs(r));break;case"add":a=i.pop(),r=i.pop(),i.push(r+a);break;case"and":a=i.pop(),r=i.pop(),i.push(d(r)&&d(a)?r&&a:r&a);break;case"atan":r=i.pop(),i.push(Math.atan(r));break;case"bitshift":a=i.pop(),r=i.pop(),i.push(r>0?r<<a:r>>a);break;case"ceiling":r=i.pop(),i.push(Math.ceil(r));break;case"copy":r=i.pop(),i.copy(r);break;case"cos":r=i.pop(),i.push(Math.cos(r));break;case"cvi":r=0|i.pop(),i.push(r);break;case"cvr":break;case"div":a=i.pop(),r=i.pop(),i.push(r/a);break;case"dup":i.copy(1);break;case"eq":a=i.pop(),r=i.pop(),i.push(r==a);break;case"exch":i.roll(2,1);break;case"exp":a=i.pop(),r=i.pop(),i.push(Math.pow(r,a));break;case"false":i.push(!1);break;case"floor":r=i.pop(),i.push(Math.floor(r));break;case"ge":a=i.pop(),r=i.pop(),i.push(r>=a);break;case"gt":a=i.pop(),r=i.pop(),i.push(r>a);break;case"idiv":a=i.pop(),r=i.pop(),i.push(r/a|0);break;case"index":r=i.pop(),i.index(r);break;case"le":a=i.pop(),r=i.pop(),i.push(a>=r);break;case"ln":r=i.pop(),i.push(Math.log(r));break;case"log":r=i.pop(),i.push(Math.log(r)/Math.LN10);break;case"lt":a=i.pop(),r=i.pop(),i.push(a>r);break;case"mod":a=i.pop(),r=i.pop(),i.push(r%a);break;case"mul":a=i.pop(),r=i.pop(),i.push(r*a);break;case"ne":a=i.pop(),r=i.pop(),i.push(r!=a);break;case"neg":r=i.pop(),i.push(-a);break;case"not":r=i.pop(),i.push(d(r)&&d(a)?r&&a:r&a);break;case"or":a=i.pop(),r=i.pop(),i.push(d(r)&&d(a)?r||a:r|a);break;case"pop":i.pop();break;case"roll":a=i.pop(),r=i.pop(),i.roll(r,a);break;case"round":r=i.pop(),i.push(Math.round(r));break;case"sin":r=i.pop(),i.push(Math.sin(r));break;case"sqrt":r=i.pop(),i.push(Math.sqrt(r));break;case"sub":a=i.pop(),r=i.pop(),i.push(r-a);break;case"true":i.push(!0);break;case"truncate":r=i.pop(),r=0>r?Math.ceil(r):Math.floor(r),i.push(r);break;case"xor":a=i.pop(),r=i.pop(),i.push(d(r)&&d(a)?r!=a:r^a);break;default:n("Unknown operator "+e)}else i.push(e);return i.stack}},t}(),re=4,ae=["Link","Text","Widget"],ie=function(){function t(t,e,n){var r=G.getAxialAlignedBoundingBox(e,n),a=r[0],i=r[1],o=r[2],s=r[3];if(a===o||i===s)return[1,0,0,1,t[0],t[1]];var c=(t[2]-t[0])/(o-a),l=(t[3]-t[1])/(s-i);return[c,0,0,l,t[0]-a*c,t[1]-i*l]}function n(t){var e=t.get("AP");if(v(e)){var n,r=e.get("N");if(v(r)){var a=t.get("AS");a&&r.has(a.name)&&(n=r.get(a.name))}else n=r;return n}}function r(t){if(t.data)return void(this.data=t.data);var e=t.dict,r=this.data={};r.subtype=e.get("Subtype").name;var a=e.get("Rect")||[0,0,0,0];r.rect=G.normalizeRect(a),r.annotationFlags=e.get("F");var i=e.get("C");if(r.color=b(i)&&3===i.length?i:[0,0,0],e.has("BS")){var o=e.get("BS");r.borderWidth=o.has("W")?o.get("W"):1}else{var s=e.get("Border")||[0,0,1];r.borderWidth=s[2]||0;var c=s[3];if(r.borderWidth>0&&c&&b(c)){var l=c.length;if(l>0){for(var h=!1,u=0,f=0;l>f;f++){var p=+c[f]>=0;if(!p){h=!0;break}c[f]>0&&u++}(h||0===u)&&(r.borderWidth=0)}}}this.appearance=n(e),r.hasAppearance=!!this.appearance}return r.prototype={getData:function(){return this.data},hasHtml:function(){return!1},getHtmlElement:function(){throw new j("getHtmlElement() should be implemented in subclass")},getEmptyContainer:function(t,e,n){a(!F,"getEmptyContainer() should be called from main thread");var r=n||0;e=e||this.data.rect;var i=document.createElement(t);i.style.borderWidth=r+"px";var o=e[2]-e[0]-2*r,s=e[3]-e[1]-2*r;return i.style.width=o+"px",i.style.height=s+"px",i},isInvisible:function(){var t=this.data;return t&&-1!==ae.indexOf(t.subtype)?!1:!!(t&&t.annotationFlags&&1&t.annotationFlags)},isViewable:function(){var t=this.data;return!(this.isInvisible()||!t||t.annotationFlags&&34&t.annotationFlags||!t.rect)},isPrintable:function(){var t=this.data;return!!(!this.isInvisible()&&t&&t.annotationFlags&&4&t.annotationFlags&&t.rect)},loadResources:function(t){var e=new W;return this.appearance.dict.getAsync("Resources").then(function(n){if(!n)return void e.resolve();var r=new ObjectLoader(n.map,t,n.xref);r.load().then(function(){e.resolve(n)})}.bind(this)),e},getOperatorList:function(e){var n=new W;if(!this.appearance)return n.resolve(new OperatorList),n;{var r=this.data,a=this.appearance.dict,i=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]),o=a.get("BBox")||[0,0,1,1],s=a.get("Matrix")||[1,0,0,1,0,0],c=t(r.rect,o,s);r.border}return i.then(function(t){var a=new OperatorList;a.addOp(M.beginAnnotation,[r.rect,c,s]),e.getOperatorList(this.appearance,t,a),a.addOp(M.endAnnotation,[]),n.resolve(a),this.appearance.reset()}.bind(this)),n}},r.getConstructor=function(t,e){if(t){if("Link"===t)return he;if("Text"===t)return le;if("Widget"===t){if(!e)return;return"Tx"===e?se:oe}return r}},r.fromData=function(t){var e=t.subtype,n=t.fieldType,a=r.getConstructor(e,n);return a?new a({data:t}):void 0},r.fromRef=function(t,n){var a=t.fetchIfRef(n);if(v(a)){var i=a.get("Subtype");if(i=m(i)?i.name:""){var o=G.getInheritableProperty(a,"FT");o=m(o)?o.name:"";var s=r.getConstructor(i,o);if(s){var c={dict:a,ref:n},l=new s(c);return l.isViewable()||l.isPrintable()?l:void e("unimplemented annotation type: "+i)}}}},r.appendToOperatorList=function(t,e,n,r,a){function i(t){o.reject(t)}for(var o=new W,s=[],c=0,l=t.length;l>c;++c)("display"===a&&t[c].isViewable()||"print"===a&&t[c].isPrintable())&&s.push(t[c].getOperatorList(r));return Promise.all(s).then(function(t){e.addOp(M.beginAnnotations,[]);for(var n=0,r=t.length;r>n;++n){var a=t[n];e.addOpList(a)}e.addOp(M.endAnnotations,[]),o.resolve()},i),o},r}();PDFJS.Annotation=ie;var oe=function(){function t(t){if(ie.call(this,t),!t.data){var e=t.dict,n=this.data;n.fieldValue=p(G.getInheritableProperty(e,"V")||""),n.alternativeText=p(e.get("TU")||""),n.defaultAppearance=G.getInheritableProperty(e,"DA")||"";var r=G.getInheritableProperty(e,"FT");n.fieldType=m(r)?r.name:"",n.fieldFlags=G.getInheritableProperty(e,"Ff")||0,this.fieldResources=G.getInheritableProperty(e,"DR")||Dict.empty;for(var a=[],i=e,o=t.ref;i;){var s=i.get("Parent"),c=i.getRaw("Parent"),l=i.get("T");if(l)a.unshift(p(l));else{var h,u,f=s.get("Kids");for(h=0,u=f.length;u>h;h++){var d=f[h];if(d.num==o.num&&d.gen==o.gen)break}a.unshift("`"+h)}i=s,o=c}n.fullName=a.join(".")}}var n=ie.prototype;return G.inherit(t,ie,{isViewable:function(){return"Sig"===this.data.fieldType?(e("unimplemented annotation type: Widget signature"),!1):n.isViewable.call(this)}}),t}(),se=function(){function t(t){oe.call(this,t),t.data||(this.data.textAlignment=G.getInheritableProperty(t.dict,"Q"))}function e(t,e,n){var r=t.style;if(r.fontSize=e.fontSize+"px",r.direction=e.fontDirection<0?"rtl":"ltr",n){r.fontWeight=n.black?n.bold?"bolder":"bold":n.bold?"bold":"normal",r.fontStyle=n.italic?"italic":"normal";var a=n.loadedName,i=a?'"'+a+'", ':"",o=n.fallbackName||"Helvetica, sans-serif";r.fontFamily=i+o}}oe.prototype;return G.inherit(t,oe,{hasHtml:function(){return!this.data.hasAppearance&&!!this.data.fieldValue},getHtmlElement:function(t){a(!F,"getHtmlElement() shall be called from main thread");var n=this.data,r=this.getEmptyContainer("div");r.style.display="table";var i=document.createElement("div");i.textContent=n.fieldValue;var o=n.textAlignment;i.style.textAlign=["left","center","right"][o],i.style.verticalAlign="middle",i.style.display="table-cell";{var s=n.fontRefName?t.getData(n.fontRefName):null;e(i,n,s)}return r.appendChild(i),r},getOperatorList:function(t){if(this.appearance)return ie.prototype.getOperatorList.call(this,t);var e=new W,n=new OperatorList,r=this.data,a=r.defaultAppearance;if(!a)return e.resolve(n),e;var i=new Stream(l(a));t.getOperatorList(i,this.fieldResources,n);var o=n.fnArray,s=n.argsArray,c=[];r.rgb=[0,0,0];for(var h=0,u=c.length;u>h;++h){var f=o[h],p=s[h];if(f===M.setFont){r.fontRefName=p[0];var d=p[1];0>d?(r.fontDirection=-1,r.fontSize=-d):(r.fontDirection=1,r.fontSize=d)}else if(f===M.setFillRGBColor)r.rgb=p;else if(f===M.setFillGray){var g=255*p[0];r.rgb=[g,g,g]}}return e.resolve(n),e}}),t}(),ce=function(){function t(t){ie.call(this,t)}return G.inherit(t,ie,{hasHtml:function(){return!0},highlight:function(){this.highlightElement&&this.highlightElement.hasAttribute("hidden")&&this.highlightElement.removeAttribute("hidden")},unhighlight:function(){this.highlightElement&&!this.highlightElement.hasAttribute("hidden")&&this.highlightElement.setAttribute("hidden",!0)},initContainer:function(){var t=this.data,e=t.rect,n=this.getEmptyContainer("section",e,t.borderWidth);n.style.backgroundColor=t.color;for(var r=t.color,a=[],i=0;3>i;++i)a[i]=Math.round(255*r[i]);t.colorCssRgb=G.makeCssRgb(a);var o=document.createElement("div");return o.className="annotationHighlight",o.style.left=o.style.top=-re+"px",o.style.right=o.style.bottom=-re+"px",o.setAttribute("hidden",!0),this.highlightElement=o,n.appendChild(this.highlightElement),n}}),t}(),le=function(){function t(t){if(ce.call(this,t),!t.data){var e=t.dict,n=this.data,r=e.get("Contents"),a=e.get("T");n.content=p(r||""),n.title=p(a||""),n.name=n.hasAppearance?"NoIcon":e.has("Name")?e.get("Name").name:"Note",e.has("C")&&(n.hasBgColor=!0)}}var e=10;return G.inherit(t,ce,{getHtmlElement:function(){a(!F,"getHtmlElement() shall be called from main thread");var t=this.data,n=t.rect;n[3]-n[1]<e&&(n[3]=n[1]+e),n[2]-n[0]<e&&(n[2]=n[0]+(n[3]-n[1]));var r=this.initContainer();r.className="annotText";var i=document.createElement("img");i.style.height=r.style.height,i.style.width=r.style.width;var o=t.name;i.src=PDFJS.imageResourcesPath+"annotation-"+o.toLowerCase()+".svg",i.alt="[{{type}} Annotation]",i.dataset.l10nId="text_annotation_type",i.dataset.l10nArgs=JSON.stringify({type:o});var s=document.createElement("div");s.className="annotTextContentWrapper",s.style.left=Math.floor(n[2]-n[0]+5)+"px",s.style.top="-10px";var c=document.createElement("div");c.className="annotTextContent",c.setAttribute("hidden",!0);var l,h;if(t.hasBgColor){var u=t.color,f=[];for(l=0;3>l;++l){var p=Math.round(255*u[l]);f[l]=Math.round(.7*(255-p))+p}c.style.backgroundColor=G.makeCssRgb(f)}var d=document.createElement("h1"),g=document.createElement("p");if(d.textContent=t.title,t.content||t.title){var A=document.createElement("span"),m=t.content.split(/(?:\r\n?|\n)/);for(l=0,h=m.length;h>l;++l){var v=m[l];A.appendChild(document.createTextNode(v)),h-1>l&&A.appendChild(document.createElement("br"))}g.appendChild(A);var b=!1,y=function(t){t&&(b=!0),c.hasAttribute("hidden")&&(r.style.zIndex+=1,c.removeAttribute("hidden"))},S=function(t){t&&(b=!1),c.hasAttribute("hidden")||b||(r.style.zIndex-=1,c.setAttribute("hidden",!0))},C=function(){b?S(!0):y(!0)};i.addEventListener("click",function(){C()},!1),i.addEventListener("mouseover",function(){y()},!1),i.addEventListener("mouseout",function(){S()},!1),c.addEventListener("click",function(){S(!0)},!1)}else c.setAttribute("hidden",!0);return c.appendChild(d),c.appendChild(g),s.appendChild(c),r.appendChild(i),r.appendChild(s),r}}),t}(),he=function(){function t(t){if(ce.call(this,t),!t.data){var r=t.dict,a=this.data,i=r.get("A");if(i){var s=i.get("S").name;if("URI"===s){var c=i.get("URI");m(c)?c="/"+c.name:c&&(c=n(c)),o(c,!1)||(c=""),a.url=c}else if("GoTo"===s)a.dest=i.get("D");else if("GoToR"===s){var l=i.get("F");v(l)&&(c=l.get("F")||""),o(c,!1)||(c=""),a.url=c,a.dest=i.get("D")}else"Named"===s?a.action=i.get("N").name:e("unrecognized link type: "+s)}else if(r.has("Dest")){var h=r.get("Dest");a.dest=m(h)?h.name:h}}}function n(t){return t&&0===t.indexOf("www.")?"http://"+t:t}return G.inherit(t,ce,{hasOperatorList:function(){return!1},getHtmlElement:function(){var t=this.initContainer();t.className="annotLink";{var e=this.data;e.rect}t.style.borderColor=e.colorCssRgb,t.style.borderStyle="solid";var n=document.createElement("a");return n.href=n.title=this.data.url||"",t.appendChild(n),t}}),t}();PDFJS.maxImageSize=void 0===PDFJS.maxImageSize?-1:PDFJS.maxImageSize,PDFJS.cMapUrl=void 0===PDFJS.cMapUrl?null:PDFJS.cMapUrl,PDFJS.cMapPacked=void 0===PDFJS.cMapPacked?!1:PDFJS.cMapPacked,PDFJS.disableFontFace=void 0===PDFJS.disableFontFace?!1:PDFJS.disableFontFace,PDFJS.imageResourcesPath=void 0===PDFJS.imageResourcesPath?"":PDFJS.imageResourcesPath,PDFJS.disableWorker=void 0===PDFJS.disableWorker?!1:PDFJS.disableWorker,PDFJS.workerSrc=void 0===PDFJS.workerSrc?null:PDFJS.workerSrc,PDFJS.disableRange=void 0===PDFJS.disableRange?!1:PDFJS.disableRange,PDFJS.disableAutoFetch=void 0===PDFJS.disableAutoFetch?!1:PDFJS.disableAutoFetch,PDFJS.pdfBug=void 0===PDFJS.pdfBug?!1:PDFJS.pdfBug,PDFJS.postMessageTransfers=void 0===PDFJS.postMessageTransfers?!0:PDFJS.postMessageTransfers,PDFJS.disableCreateObjectURL=void 0===PDFJS.disableCreateObjectURL?!1:PDFJS.disableCreateObjectURL,PDFJS.disableWebGL=void 0===PDFJS.disableWebGL?!0:PDFJS.disableWebGL,PDFJS.verbosity=void 0===PDFJS.verbosity?PDFJS.VERBOSITY_LEVELS.warnings:PDFJS.verbosity,PDFJS.getDocument=function(t,e,r,a){var o,s,c;"string"==typeof t?t={url:t}:S(t)?t={data:t}:"object"!=typeof t&&n("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object"),t.url||t.data||n("Invalid parameter array, need either .data or .url");var l={};for(var h in t)l[h]="url"!==h||"undefined"==typeof window?t[h]:i(window.location.href,t[h]);return o=new PDFJS.LegacyPromise,s=new PDFJS.LegacyPromise,c=new pe(o,s,e,a),o.then(function(){c.passwordCallback=r,c.fetchDocument(l)}),s};var ue=function(){function t(t,e){this.pdfInfo=t,this.transport=e}return t.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(t){return this.transport.getPage(t)},getPageIndex:function(t){return this.transport.getPageIndex(t)},getDestinations:function(){return this.transport.getDestinations()},getJavaScript:function(){var t=new PDFJS.LegacyPromise,e=this.pdfInfo.javaScript;return t.resolve(e),t},getOutline:function(){var t=new PDFJS.LegacyPromise,e=this.pdfInfo.outline;return t.resolve(e),t},getMetadata:function(){var t=new PDFJS.LegacyPromise,e=this.pdfInfo.info,n=this.pdfInfo.metadata;return t.resolve({info:e,metadata:n?new PDFJS.Metadata(n):null}),t},getData:function(){var t=new PDFJS.LegacyPromise;return this.transport.getData(t),t},getDownloadInfo:function(){return this.transport.downloadInfoPromise},cleanup:function(){this.transport.startCleanup()},destroy:function(){this.transport.destroy()}},t}(),fe=function(){function t(t,e){this.pageInfo=t,this.transport=e,this.stats=new N,this.stats.enabled=!!w.PDFJS.enableStats,this.commonObjs=e.commonObjs,this.objs=new de,this.cleanupAfterRender=!1,this.pendingDestroy=!1,this.intentStates={}}return t.prototype={get pageNumber(){return this.pageInfo.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get view(){return this.pageInfo.view},getViewport:function(t,e){return arguments.length<2&&(e=this.rotate),new PDFJS.PageViewport(this.view,t,e,0,0)},getAnnotations:function(){if(this.annotationsPromise)return this.annotationsPromise;var t=new PDFJS.LegacyPromise;return this.annotationsPromise=t,this.transport.getAnnotations(this.pageInfo.pageIndex),t},render:function(t){function e(t){var e=a.renderTasks.indexOf(i);e>=0&&a.renderTasks.splice(e,1),s.cleanupAfterRender&&(s.pendingDestroy=!0),s._tryDestroy(),t?o.promise.reject(t):o.promise.resolve(),n.timeEnd("Rendering"),n.timeEnd("Overall")}var n=this.stats;n.time("Overall"),this.pendingDestroy=!1;var r="intent"in t&&"print"==t.intent?"print":"display";this.intentStates[r]||(this.intentStates[r]={});var a=this.intentStates[r];a.displayReadyPromise||(a.receivingOperatorList=!0,a.displayReadyPromise=new W,a.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this.stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:r}));var i=new Ae(e,t,this.objs,this.commonObjs,a.operatorList,this.pageNumber);a.renderTasks||(a.renderTasks=[]),a.renderTasks.push(i);var o=new ge(i),s=this;return a.displayReadyPromise.then(function(t){return s.pendingDestroy?void e():(n.time("Rendering"),i.initalizeGraphics(t),void i.operatorListChanged())},function(t){e(t)}),o},getTextContent:function(){var t=new PDFJS.LegacyPromise;return this.transport.messageHandler.send("GetTextContent",{pageIndex:this.pageNumber-1},function(e){t.resolve(e)}),t},destroy:function(){this.pendingDestroy=!0,this._tryDestroy()},_tryDestroy:function(){this.pendingDestroy&&!Object.keys(this.intentStates).some(function(t){var e=this.intentStates[t];return 0!==e.renderTasks.length||e.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(t){delete this.intentStates[t]},this),this.objs.clear(),this.pendingDestroy=!1)},_startRenderPage:function(t,e){var n=this.intentStates[e];n.displayReadyPromise.resolve(t)},_renderPageChunk:function(t,e){var n,r,a=this.intentStates[e];for(n=0,r=t.length;r>n;n++)a.operatorList.fnArray.push(t.fnArray[n]),a.operatorList.argsArray.push(t.argsArray[n]);for(a.operatorList.lastChunk=t.lastChunk,n=0;n<a.renderTasks.length;n++)a.renderTasks[n].operatorListChanged();t.lastChunk&&(a.receivingOperatorList=!1,this._tryDestroy())}},t}(),pe=function(){function r(e,r,a,i){if(this.pdfDataRangeTransport=a,this.workerReadyPromise=r,this.progressCallback=i,this.commonObjs=new de,this.pageCache=[],this.pagePromises=[],this.downloadInfoPromise=new PDFJS.LegacyPromise,this.passwordCallback=null,!w.PDFJS.disableWorker&&"undefined"!=typeof Worker){var o=PDFJS.workerSrc;o||n("No PDFJS.workerSrc specified");try{var s=new Worker(o),c=new C("main",s);this.messageHandler=c,c.on("test",function(t){var n=t&&t.supportTypedArray;n?(this.worker=s,t.supportTransfers||(PDFJS.postMessageTransfers=!1),this.setupMessageHandler(c),e.resolve()):(w.PDFJS.disableWorker=!0,this.loadFakeWorkerFiles().then(function(){this.setupFakeWorker(),e.resolve()}.bind(this)))}.bind(this));var l=new Uint8Array([PDFJS.postMessageTransfers?255:0]);try{c.send("test",l,null,[l.buffer])}catch(h){t("Cannot use postMessage transfers"),l[0]=0,c.send("test",l)}return}catch(u){t("The worker has been disabled.")}}w.PDFJS.disableWorker=!0,this.loadFakeWorkerFiles().then(function(){this.setupFakeWorker(),e.resolve()}.bind(this))}return r.prototype={destroy:function(){this.pageCache=[],this.pagePromises=[];var t=this;this.messageHandler.send("Terminate",null,function(){De.clear(),t.worker&&t.worker.terminate()})},loadFakeWorkerFiles:function(){return PDFJS.fakeWorkerFilesLoadedPromise||(PDFJS.fakeWorkerFilesLoadedPromise=new W,G.loadScript(PDFJS.workerSrc,function(){PDFJS.fakeWorkerFilesLoadedPromise.resolve()})),PDFJS.fakeWorkerFilesLoadedPromise},setupFakeWorker:function(){e("Setting up fake worker.");var t={postMessage:function(e){t.onmessage({data:e})},terminate:function(){}},n=new C("main",t);this.setupMessageHandler(n),PDFJS.WorkerMessageHandler.setup(n)},setupMessageHandler:function(t){function r(e){t.send("UpdatePassword",e)}this.messageHandler=t;var a=this.pdfDataRangeTransport;a&&(a.addRangeListener(function(e,n){t.send("OnDataRange",{begin:e,chunk:n})}),a.addProgressListener(function(e){t.send("OnDataProgress",{loaded:e})}),t.on("RequestDataRange",function(t){a.requestDataRange(t.begin,t.end)},this)),t.on("GetDoc",function(t){var e=t.pdfInfo;this.numPages=t.pdfInfo.numPages;var n=new ue(e,this);this.pdfDocument=n,this.workerReadyPromise.resolve(n)},this),t.on("NeedPassword",function(t){return this.passwordCallback?this.passwordCallback(r,O.NEED_PASSWORD):void this.workerReadyPromise.reject(t.exception.message,t.exception)},this),t.on("IncorrectPassword",function(t){return this.passwordCallback?this.passwordCallback(r,O.INCORRECT_PASSWORD):void this.workerReadyPromise.reject(t.exception.message,t.exception)},this),t.on("InvalidPDF",function(t){this.workerReadyPromise.reject(t.exception.name,t.exception)},this),t.on("MissingPDF",function(t){this.workerReadyPromise.reject(t.exception.message,t.exception)},this),t.on("UnknownError",function(t){this.workerReadyPromise.reject(t.exception.message,t.exception)},this),t.on("DataLoaded",function(t){this.downloadInfoPromise.resolve(t)},this),t.on("GetPage",function(t){var e=t.pageInfo,n=new fe(e,this);this.pageCache[e.pageIndex]=n;var r=this.pagePromises[e.pageIndex];r.resolve(n)},this),t.on("GetAnnotations",function(t){var e=t.annotations,n=this.pageCache[t.pageIndex].annotationsPromise;n.resolve(e)},this),t.on("StartRenderPage",function(t){var e=this.pageCache[t.pageIndex];e.stats.timeEnd("Page Request"),e._startRenderPage(t.transparency,t.intent)},this),t.on("RenderPageChunk",function(t){var e=this.pageCache[t.pageIndex];e._renderPageChunk(t.operatorList,t.intent)},this),t.on("commonobj",function(t){var n=t[0],r=t[1];if(!this.commonObjs.hasData(n))switch(r){case"Font":var a,i=t[2];if("error"in i){var o=i.error;e("Error during font loading: "+o),this.commonObjs.resolve(n,o);break}a=new we(i),De.bind([a],function(){this.commonObjs.resolve(n,a)}.bind(this));break;case"FontPath":this.commonObjs.resolve(n,t[2]);break;default:o("Got unknown common object type "+r)}},this),t.on("obj",function(t){var e,r=t[0],a=t[1],i=t[2],o=this.pageCache[a];if(!o.objs.hasData(r))switch(i){case"JpegStream":e=t[3],P(r,e,o.objs);break;case"Image":e=t[3],o.objs.resolve(r,e);var s=8e6;e&&"data"in e&&e.data.length>s&&(o.cleanupAfterRender=!0);break;default:n("Got unknown object type "+i)}},this),t.on("DocProgress",function(t){this.progressCallback&&this.progressCallback({loaded:t.loaded,total:t.total})},this),t.on("DocError",function(t){this.workerReadyPromise.reject(t)},this),t.on("PageError",function(t,e){var r=this.pageCache[t.pageNum-1],a=r.intentStates[e];a.displayReadyPromise?a.displayReadyPromise.reject(t.error):n(t.error)},this),t.on("JpegDecode",function(t,e){var r=t[0],a=t[1];3!=a&&1!=a&&n("Only 3 component or 1 component can be returned");var i=new Image;i.onload=function(){var t=i.width,n=i.height,r=t*n,o=4*r,s=new Uint8Array(r*a),c=k(t,n),l=c.getContext("2d");l.drawImage(i,0,0);var h,u,f=l.getImageData(0,0,t,n).data;if(3==a)for(h=0,u=0;o>h;h+=4,u+=3)s[u]=f[h],s[u+1]=f[h+1],s[u+2]=f[h+2];else if(1==a)for(h=0,u=0;o>h;h+=4,u++)s[u]=f[h];e.resolve({data:s,width:t,height:n})}.bind(this),i.src=r})},fetchDocument:function(t){t.disableAutoFetch=PDFJS.disableAutoFetch,t.chunkedViewerLoading=!!this.pdfDataRangeTransport,this.messageHandler.send("GetDocRequest",{source:t,disableRange:PDFJS.disableRange,maxImageSize:PDFJS.maxImageSize,cMapUrl:PDFJS.cMapUrl,cMapPacked:PDFJS.cMapPacked,disableFontFace:PDFJS.disableFontFace,disableCreateObjectURL:PDFJS.disableCreateObjectURL,verbosity:PDFJS.verbosity})},getData:function(t){this.messageHandler.send("GetData",null,function(e){t.resolve(e)})},getPage:function(t,e){if(0>=t||t>this.numPages||(0|t)!==t){var n=new PDFJS.LegacyPromise;return n.reject(new Error("Invalid page request")),n}var r=t-1;return r in this.pagePromises?this.pagePromises[r]:(e=new PDFJS.LegacyPromise,this.pagePromises[r]=e,this.messageHandler.send("GetPageRequest",{pageIndex:r}),e)},getPageIndex:function(t){var e=new PDFJS.LegacyPromise;return this.messageHandler.send("GetPageIndex",{ref:t},function(t){e.resolve(t)}),e},getAnnotations:function(t){this.messageHandler.send("GetAnnotationsRequest",{pageIndex:t})},getDestinations:function(){var t=new PDFJS.LegacyPromise;return this.messageHandler.send("GetDestinations",null,function(e){t.resolve(e)}),t},startCleanup:function(){this.messageHandler.send("Cleanup",null,function(){for(var t=0,e=this.pageCache.length;e>t;t++){var n=this.pageCache[t];n&&n.destroy()}this.commonObjs.clear(),De.clear()}.bind(this))}},r}(),de=function(){function t(){this.objs={}}return t.prototype={ensureObj:function(t){if(this.objs[t])return this.objs[t];var e={promise:new W,data:null,resolved:!1};return this.objs[t]=e,e},get:function(t,e){if(e)return this.ensureObj(t).promise.then(e),null;var r=this.objs[t];return r&&r.resolved||n("Requesting object that isn't resolved yet "+t),r.data},resolve:function(t,e){var n=this.ensureObj(t);n.resolved=!0,n.data=e,n.promise.resolve(e)},isResolved:function(t){var e=this.objs;return e[t]?e[t].resolved:!1},hasData:function(t){return this.isResolved(t)},getData:function(t){var e=this.objs;return e[t]&&e[t].resolved?e[t].data:null},clear:function(){this.objs={}}},t}(),ge=function(){function t(t){this.internalRenderTask=t,this.promise=new PDFJS.LegacyPromise}return t.prototype={cancel:function(){this.internalRenderTask.cancel(),this.promise.reject(new Error("Rendering is cancelled"))},then:function(t,e){return this.promise.then(t,e)}},t}(),Ae=function(){function t(t,e,n,r,a,i){this.callback=t,this.params=e,this.objs=n,this.commonObjs=r,this.operatorListIdx=null,this.operatorList=a,this.pageNumber=i,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.cancelled=!1}return t.prototype={initalizeGraphics:function(t){if(!this.cancelled){PDFJS.pdfBug&&"StepperManager"in w&&w.StepperManager.enabled&&(this.stepper=w.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var e=this.params;this.gfx=new Ce(e.canvasContext,this.commonObjs,this.objs,e.imageLayer),this.gfx.beginDrawing(e.viewport,t),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this.callback("cancelled")},operatorListChanged:function(){return this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),void(this.running||this._continue())):void(this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continue.bind(this)))},_continue:function(){this.running=!0,this.cancelled||(this.params.continueCallback?this.params.continueCallback(this._next.bind(this)):this._next())},_next:function(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continue.bind(this),this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this.callback())))}},t}(),me=(PDFJS.Metadata=function(){function t(t){return t.replace(/>\\376\\377([^<]+)/g,function(t,e){for(var n=e.replace(/\\([0-3])([0-7])([0-7])/g,function(t,e,n,r){return String.fromCharCode(64*e+8*n+1*r)}),r="",a=0;a<n.length;a+=2){var i=256*n.charCodeAt(a)+n.charCodeAt(a+1);r+="&#x"+(65536+i).toString(16).substring(1)+";"}return">"+r})}function e(e){if("string"==typeof e){e=t(e);var r=new DOMParser;e=r.parseFromString(e,"application/xml")}else e instanceof Document||n("Metadata: Invalid metadata object");this.metaDocument=e,this.metadata={},this.parse()}return e.prototype={parse:function(){var t=this.metaDocument,e=t.documentElement;if("rdf:rdf"!==e.nodeName.toLowerCase())for(e=e.firstChild;e&&"rdf:rdf"!==e.nodeName.toLowerCase();)e=e.nextSibling;var n=e?e.nodeName.toLowerCase():null;if(e&&"rdf:rdf"===n&&e.hasChildNodes()){var r,a,i,o,s,c,l,h=e.childNodes;for(o=0,c=h.length;c>o;o++)if(r=h[o],"rdf:description"===r.nodeName.toLowerCase())for(s=0,l=r.childNodes.length;l>s;s++)"#text"!==r.childNodes[s].nodeName.toLowerCase()&&(a=r.childNodes[s],i=a.nodeName.toLowerCase(),this.metadata[i]=a.textContent.trim())}},get:function(t){return this.metadata[t]||null},has:function(t){return"undefined"!=typeof this.metadata[t]}},e}(),16),ve=4096,be=!0,ye=function(){var t={};return{getCanvas:function(e,n,r,a){var i;if(e in t)i=t[e],i.canvas.width=n,i.canvas.height=r,i.context.setTransform(1,0,0,1,0,0);else{var o=k(n,r),s=o.getContext("2d");a&&x(s),t[e]=i={canvas:o,context:s}}return i},clear:function(){t={}}}}(),Se=function(){function t(t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=J,this.fontMatrix=T,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=I.FILL,this.textRise=0,this.fillColorSpace=Y.singletons.gray,this.fillColorSpaceObj=null,this.strokeColorSpace=Y.singletons.gray,this.strokeColorSpaceObj=null,this.fillColorObj=null,this.strokeColorObj=null,this.fillColor="#000000",this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.old=t
}return t.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(t,e){this.x=t,this.y=e}},t}(),Ce=function(){function r(t,e,n,r){this.ctx=t,this.current=new Se,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.imageLayer=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,t&&x(t)}function i(t,e){if("undefined"!=typeof ImageData&&e instanceof ImageData)return void t.putImageData(e,0,0);var r,a,i,o,s,c=e.height,l=e.width,h=16,u=c/h,f=Math.floor(u),p=Math.ceil(u),d=c-f*h,g=t.createImageData(l,h),A=0,m=e.data,v=g.data;if(e.kind===L.GRAYSCALE_1BPP){var b=(v.length,m.byteLength),y=PDFJS.hasCanvasTypedArrays?new Uint32Array(v.buffer):new B(v),S=y.length,C=l+7>>3,P=4294967295,k=PDFJS.isLittleEndian||!PDFJS.hasCanvasTypedArrays?4278190080:255;for(a=0;p>a;a++){for(o=f>a?h:d,r=0,i=0;o>i;i++){for(var x=b-A,R=0,D=x>C?l:8*x-7,w=-8&D,F=0,T=0;w>R;R+=8)T=m[A++],y[r++]=128&T?P:k,y[r++]=64&T?P:k,y[r++]=32&T?P:k,y[r++]=16&T?P:k,y[r++]=8&T?P:k,y[r++]=4&T?P:k,y[r++]=2&T?P:k,y[r++]=1&T?P:k;for(;D>R;R++)0===F&&(T=m[A++],F=128),y[r++]=T&F?P:k,F>>=1}for(;S>r;)y[r++]=0;t.putImageData(g,0,a*h)}}else if(e.kind===L.RGBA_32BPP)for(a=0;p>a;a++)o=f>a?h:d,s=e.width*o*4,v.set(m.subarray(A,A+s)),A+=s,t.putImageData(g,0,a*h);else if(e.kind===L.RGB_24BPP)for(a=0;p>a;a++){for(o=f>a?h:d,s=e.width*o*3,r=0,i=0;s>i;i+=3)v[r++]=m[A++],v[r++]=m[A++],v[r++]=m[A++],v[r++]=255;t.putImageData(g,0,a*h)}else n("bad image kind: "+e.kind)}function o(t,e){for(var n=e.height,r=e.width,a=16,i=n/a,o=Math.floor(i),s=Math.ceil(i),c=n-o*a,l=t.createImageData(r,a),h=0,u=e.data,f=l.data,p=0;s>p;p++){for(var d=o>p?a:c,g=3,A=0;d>A;A++)for(var m=0,v=0;r>v;v++){if(!m){var b=u[h++];m=128}f[g]=b&m?0:255,g+=4,m>>=1}t.putImageData(l,0,p*a)}}function c(t,e){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],r=0,a=n.length;a>r;r++){var i=n[r];i in t&&(e[i]=t[i])}"setLineDash"in t?(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset):"mozDash"in t&&(e.mozDash=t.mozDash,e.mozDashOffset=t.mozDashOffset)}function l(t,e,n,r,a,i){var o;o=i?function(t,e,n,r){for(var a=r.length,i=3;a>i;i+=4){var o=r[i]/255;if(0===o)r[i-3]=t,r[i-2]=e,r[i-1]=n;else if(1>o){var s=1-o;r[i-3]=r[i-3]*o+t*s|0,r[i-2]=r[i-2]*o+e*s|0,r[i-1]=r[i-1]*o+n*s|0}}}.bind(null,i[0],i[1],i[2]):function(){};var s;s="Luminosity"===a?function(t,e){for(var n=t.length,r=3;n>r;r+=4){var a=77*t[r-3]+152*t[r-2]+28*t[r-1]|0;e[r]=e[r]*a>>16}}:function(t,e){for(var n=t.length,r=3;n>r;r+=4){var a=t[r];e[r]=e[r]*a/255|0}};for(var c=65536,l=Math.min(r,Math.ceil(c/n)),h=0;r>h;h+=l){var u=Math.min(l,r-h),f=t.getImageData(0,h,n,u),p=e.getImageData(0,h,n,u);o(f.data),s(f.data,p.data),t.putImageData(p,0,h)}}function h(t,e,n){var r=e.canvas,a=e.context;t.setTransform(e.scaleX,0,0,e.scaleY,e.offsetX,e.offsetY);var i;if(e.backdrop){var o=e.colorSpace||Y.singletons.rgb;i=o.getRgb(e.backdrop,0)}if(Pe.isEnabled){var s=Pe.composeSMask(n.canvas,r,{subtype:e.subtype,backdrop:i});return t.setTransform(1,0,0,1,0,0),void t.drawImage(s,e.offsetX,e.offsetY)}l(a,n,r.width,r.height,e.subtype,i),t.drawImage(r,0,0)}var u=15,f=["butt","round","square"],p=["miter","round","bevel"],d={},A={};r.prototype={beginDrawing:function(t,e){var n=this.ctx.canvas.width,r=this.ctx.canvas.height;e?this.ctx.clearRect(0,0,n,r):(this.ctx.mozOpaque=!0,this.ctx.save(),this.ctx.fillStyle="rgb(255, 255, 255)",this.ctx.fillRect(0,0,n,r),this.ctx.restore());var a=t.transform;this.ctx.save(),this.ctx.transform.apply(this.ctx,a),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(t,e,n,r){var a=t.argsArray,i=t.fnArray,o=e||0,s=a.length;if(s==o)return o;for(var c,l=Date.now()+u,h=this.commonObjs,f=this.objs,p=Promise.resolve();;){if(r&&o===r.nextBreakPoint)return r.breakIt(o,n),o;if(c=i[o],c!==M.dependency)this[c].apply(this,a[o]);else for(var d=a[o],g=0,A=d.length;A>g;g++){var m=d[g],v="g_"==m.substring(0,2);if(!v&&!f.isResolved(m))return f.get(m,n),o;if(v&&!h.isResolved(m))return h.get(m,n),o}if(o++,o==s)return o;if(n&&Date.now()>l)return p.then(n),o}},endDrawing:function(){this.ctx.restore(),ye.clear(),Pe.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(t){this.current.lineWidth=t,this.ctx.lineWidth=t},setLineCap:function(t){this.ctx.lineCap=f[t]},setLineJoin:function(t){this.ctx.lineJoin=p[t]},setMiterLimit:function(t){this.ctx.miterLimit=t},setDash:function(t,e){var n=this.ctx;"setLineDash"in n?(n.setLineDash(t),n.lineDashOffset=e):(n.mozDash=t,n.mozDashOffset=e)},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(t){for(var n=0,r=t.length;r>n;n++){var a=t[n],i=a[0],o=a[1];switch(i){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=a[1];break;case"ca":this.current.fillAlpha=a[1],this.ctx.globalAlpha=a[1];break;case"BM":if(o&&o.name&&"Normal"!==o.name){var s=o.name.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()}).substring(1);this.ctx.globalCompositeOperation=s,this.ctx.globalCompositeOperation!==s&&e('globalCompositeOperation "'+s+'" is not supported')}else this.ctx.globalCompositeOperation="source-over";break;case"SMask":this.current.activeSMask&&this.endSMaskGroup(),this.current.activeSMask=o?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var t=this.current.activeSMask,e=t.canvas.width,n=t.canvas.height,r="smaskGroupAt"+this.groupLevel,a=ye.getCanvas(r,e,n,!0),i=this.ctx,o=i.mozCurrentTransform;this.ctx.save();var s=a.context;s.scale(1/t.scaleX,1/t.scaleY),s.translate(-t.offsetX,-t.offsetY),s.transform.apply(s,o),c(i,s),this.ctx=s,this.setGState([["BM","Normal"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++},endSMaskGroup:function(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),h(this.ctx,this.current.activeSMask,t),this.ctx.restore()},save:function(){this.ctx.save();var t=this.current;this.stateStack.push(t),this.current=t.clone(),this.current.activeSMask&&(this.current.activeSMask=null)},restore:function(){var t=this.stateStack.pop();t&&(this.current.activeSMask&&this.endSMaskGroup(),this.current=t,this.ctx.restore())},transform:function(t,e,n,r,a,i){this.ctx.transform(t,e,n,r,a,i)},moveTo:function(t,e){this.ctx.moveTo(t,e),this.current.setCurrentPoint(t,e)},lineTo:function(t,e){this.ctx.lineTo(t,e),this.current.setCurrentPoint(t,e)},curveTo:function(t,e,n,r,a,i){this.ctx.bezierCurveTo(t,e,n,r,a,i),this.current.setCurrentPoint(a,i)},curveTo2:function(t,e,n,r){var a=this.current;this.ctx.bezierCurveTo(a.x,a.y,t,e,n,r),a.setCurrentPoint(n,r)},curveTo3:function(t,e,n,r){this.curveTo(t,e,n,r,n,r),this.current.setCurrentPoint(n,r)},closePath:function(){this.ctx.closePath()},rectangle:function(t,e,n,r){0===n&&(n=this.getSinglePixelWidth()),0===r&&(r=this.getSinglePixelWidth()),this.ctx.rect(t,e,n,r)},stroke:function(t){t="undefined"!=typeof t?t:!0;var e=this.ctx,n=this.current.strokeColor;0===this.current.lineWidth&&(e.lineWidth=this.getSinglePixelWidth()),e.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type?(e.save(),e.strokeStyle=n.getPattern(e,this),e.stroke(),e.restore()):e.stroke(),t&&this.consumePath(),e.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(t){t="undefined"!=typeof t?t:!0;var e=this.ctx,n=this.current.fillColor,r=!1;if(n&&n.hasOwnProperty("type")&&"Pattern"===n.type&&(e.save(),e.fillStyle=n.getPattern(e,this),r=!0),this.pendingEOFill){if("mozFillRule"in this.ctx)this.ctx.mozFillRule="evenodd",this.ctx.fill(),this.ctx.mozFillRule="nonzero";else try{this.ctx.fill("evenodd")}catch(a){this.ctx.fill()}this.pendingEOFill=!1}else this.ctx.fill();r&&e.restore(),t&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=d},eoClip:function(){this.pendingClip=A},beginText:function(){this.current.textMatrix=J,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){if(!("pendingTextPaths"in this))return void this.ctx.beginPath();var t=this.pendingTextPaths,e=this.ctx;e.save(),e.beginPath();for(var n=0;n<t.length;n++){var r=t[n];e.setTransform.apply(e,r.transform),e.translate(r.x,r.y),r.addToPath(e,r.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths},setCharSpacing:function(t){this.current.charSpacing=t},setWordSpacing:function(t){this.current.wordSpacing=t},setHScale:function(t){this.current.textHScale=t/100},setLeading:function(t){this.current.leading=-t},setFont:function(t,r){var a=this.commonObjs.get(t),i=this.current;if(a||n("Can't find font for "+t),i.fontMatrix=a.fontMatrix?a.fontMatrix:T,(0===i.fontMatrix[0]||0===i.fontMatrix[3])&&e("Invalid font matrix for font "+t),0>r?(r=-r,i.fontDirection=-1):i.fontDirection=1,this.current.font=a,this.current.fontSize=r,!a.coded){var o=a.loadedName||"sans-serif",s=a.black?a.bold?"bolder":"bold":a.bold?"bold":"normal",c=a.italic?"italic":"normal",l='"'+o+'", '+a.fallbackName,h=r>=me?r:me;this.current.fontSizeScale=h!=me?1:r/me;var u=c+" "+s+" "+h+"px "+l;this.ctx.font=u}},setTextRenderingMode:function(t){this.current.textRenderingMode=t},setTextRise:function(t){this.current.textRise=t},moveText:function(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e},setLeadingMoveText:function(t,e){this.setLeading(-e),this.moveText(t,e)},setTextMatrix:function(t,e,n,r,a,i){this.current.textMatrix=[t,e,n,r,a,i],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},applyTextTransforms:function(){var t=this.ctx,e=this.current;t.transform.apply(t,e.textMatrix),t.translate(e.x,e.y+e.textRise),e.fontDirection>0?t.scale(e.textHScale,-1):t.scale(-e.textHScale,1)},paintChar:function(t,e,n){var r,a=this.ctx,i=this.current,o=i.font,s=i.fontSize/i.fontSizeScale,c=i.textRenderingMode,l=c&I.FILL_STROKE_MASK,h=!!(c&I.ADD_TO_PATH_FLAG);if((o.disableFontFace||h)&&(r=o.getPathGenerator(this.commonObjs,t)),o.disableFontFace?(a.save(),a.translate(e,n),a.beginPath(),r(a,s),(l===I.FILL||l===I.FILL_STROKE)&&a.fill(),(l===I.STROKE||l===I.FILL_STROKE)&&a.stroke(),a.restore()):((l===I.FILL||l===I.FILL_STROKE)&&a.fillText(t,e,n),(l===I.STROKE||l===I.FILL_STROKE)&&a.strokeText(t,e,n)),h){var u=this.pendingTextPaths||(this.pendingTextPaths=[]);u.push({transform:a.mozCurrentTransform,x:e,y:n,fontSize:s,addToPath:r})}},get isFontSubpixelAAEnabled(){var t=document.createElement("canvas").getContext("2d");t.scale(1.5,1),t.fillText("I",0,10);for(var e=t.getImageData(0,0,10,10).data,n=!1,r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return s(this,"isFontSubpixelAAEnabled",n)},showText:function(t){{var e,n,r,a=this.ctx,i=this.current,o=i.font,s=i.fontSize,c=i.fontSizeScale,l=i.charSpacing,h=i.wordSpacing,u=i.textHScale*i.fontDirection,f=i.fontMatrix||T,p=t.length,d=o.vertical,g=o.defaultVMetrics;Math.PI/2}if(0!==s)if(o.coded){for(a.save(),a.transform.apply(a,i.textMatrix),a.translate(i.x,i.y),a.scale(u,1),e=0;p>e;++e)if(n=t[e],null!==n){this.processingType3=n,this.save(),a.scale(s,s),a.transform.apply(a,f),this.executeOperatorList(n.operatorList),this.restore();var A=G.applyTransform([n.width,0],f);r=(A[0]*s+l)*i.fontDirection,a.translate(r,0),i.x+=r*u}else this.ctx.translate(h,0),i.x+=h*u;a.restore(),this.processingType3=null}else{a.save(),this.applyTextTransforms();var m=i.lineWidth,v=i.textMatrix[0],b=i.textMatrix[1],y=Math.sqrt(v*v+b*b);0===y||0===m?m=this.getSinglePixelWidth():m/=y,1!=c&&(a.scale(c,c),m/=c),a.lineWidth=m;var S=0;for(e=0;p>e;++e)if(n=t[e],null!==n){var C=!1,P=n.fontChar,k=n.vmetric||g;if(d){var x=n.vmetric?k[1]:.5*n.width;x=-x*s*i.fontMatrix[0];var R=k[2]*s*i.fontMatrix[0]}r=k?-k[0]:n.width;var D,w,F,I,L=r*s*i.fontMatrix[0]+l*i.fontDirection,M=n.accent;if(d?(D=x/c,w=(S+R)/c):(D=S/c,w=0),o.remeasure&&r>0&&this.isFontSubpixelAAEnabled){var E=1e3*a.measureText(P).width/i.fontSize*i.fontSizeScale,_=r/E;C=!0,a.save(),a.scale(_,1),D/=_,M&&(F/=_)}this.paintChar(P,D,w),M&&(F=D+M.offset.x/c,I=w-M.offset.y/c,this.paintChar(M.fontChar,F,I)),S+=L,C&&a.restore()}else S+=i.fontDirection*h;d?i.y-=S*u:i.x+=S*u,a.restore()}},showSpacedText:function(t){for(var e=(this.ctx,this.current),n=e.font,r=e.fontSize,a=.001*e.textHScale*e.fontDirection,i=t.length,o=n.vertical,s=0;i>s;++s){var c=t[s];if(g(c)){var l=-c*r*a;o?e.y+=l:e.x+=l}else this.showText(c)}},nextLineShowText:function(t){this.nextLine(),this.showText(t)},nextLineSetSpacingShowText:function(t,e,n){this.setWordSpacing(t),this.setCharSpacing(e),this.nextLineShowText(n)},setCharWidth:function(){},setCharWidthAndBounds:function(t,e,n,r,a,i){this.rectangle(n,r,a-n,i-r),this.clip(),this.endPath()},setStrokeColorSpace:function(t){this.current.strokeColorSpace=Y.fromIR(t)},setFillColorSpace:function(t){this.current.fillColorSpace=Y.fromIR(t)},setStrokeColor:function(){var t=this.current.strokeColorSpace,e=t.getRgb(arguments,0),n=G.makeCssRgb(e);this.ctx.strokeStyle=n,this.current.strokeColor=n},getColorN_Pattern:function(t,e){var n;if("TilingPattern"==t[0]){var r,a=t[1],i=e.base;if(i){{i.numComps}r=i.getRgb(a,0)}n=new Re(t,r,this.ctx,this.objs,this.commonObjs,this.baseTransform)}else n=D(t);return n},setStrokeColorN:function(){var t=this.current.strokeColorSpace;"Pattern"==t.name?this.current.strokeColor=this.getColorN_Pattern(arguments,t):this.setStrokeColor.apply(this,arguments)},setFillColor:function(){var t=this.current.fillColorSpace,e=t.getRgb(arguments,0),n=G.makeCssRgb(e);this.ctx.fillStyle=n,this.current.fillColor=n},setFillColorN:function(){var t=this.current.fillColorSpace;"Pattern"==t.name?this.current.fillColor=this.getColorN_Pattern(arguments,t):this.setFillColor.apply(this,arguments)},setStrokeGray:function(){this.current.strokeColorSpace=Y.singletons.gray;var t=this.current.strokeColorSpace.getRgb(arguments,0),e=G.makeCssRgb(t);this.ctx.strokeStyle=e,this.current.strokeColor=e},setFillGray:function(){this.current.fillColorSpace=Y.singletons.gray;var t=this.current.fillColorSpace.getRgb(arguments,0),e=G.makeCssRgb(t);this.ctx.fillStyle=e,this.current.fillColor=e},setStrokeRGBColor:function(){this.current.strokeColorSpace=Y.singletons.rgb;var t=this.current.strokeColorSpace.getRgb(arguments,0),e=G.makeCssRgb(t);this.ctx.strokeStyle=e,this.current.strokeColor=e},setFillRGBColor:function(){this.current.fillColorSpace=Y.singletons.rgb;var t=this.current.fillColorSpace.getRgb(arguments,0),e=G.makeCssRgb(t);this.ctx.fillStyle=e,this.current.fillColor=e},setStrokeCMYKColor:function(){this.current.strokeColorSpace=Y.singletons.cmyk;var t=G.makeCssCmyk(arguments);this.ctx.strokeStyle=t,this.current.strokeColor=t},setFillCMYKColor:function(){this.current.fillColorSpace=Y.singletons.cmyk;var t=G.makeCssCmyk(arguments);this.ctx.fillStyle=t,this.current.fillColor=t},shadingFill:function(t){var e=this.ctx;this.save();var n=D(t);e.fillStyle=n.getPattern(e,this,!0);var r=e.mozCurrentTransformInverse;if(r){var a=e.canvas,i=a.width,o=a.height,s=G.applyTransform([0,0],r),c=G.applyTransform([0,o],r),l=G.applyTransform([i,0],r),h=G.applyTransform([i,o],r),u=Math.min(s[0],c[0],l[0],h[0]),f=Math.min(s[1],c[1],l[1],h[1]),p=Math.max(s[0],c[0],l[0],h[0]),d=Math.max(s[1],c[1],l[1],h[1]);this.ctx.fillRect(u,f,p-u,d-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){n("Should not call beginInlineImage")},beginImageData:function(){n("Should not call beginImageData")},paintFormXObjectBegin:function(t,e){if(this.save(),this.baseTransformStack.push(this.baseTransform),t&&b(t)&&6==t.length&&this.transform.apply(this,t),this.baseTransform=this.ctx.mozCurrentTransform,e&&b(e)&&4==e.length){var n=e[2]-e[0],r=e[3]-e[1];this.rectangle(e[0],e[1],n,r),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(n){this.save();var r=this.ctx;n.isolated||t("TODO: Support non-isolated groups."),n.knockout&&e("Knockout groups not supported.");var i=r.mozCurrentTransform;n.matrix&&r.transform.apply(r,n.matrix),a(n.bbox,"Bounding box is required.");var o=G.getAxialAlignedBoundingBox(n.bbox,r.mozCurrentTransform),s=[0,0,r.canvas.width,r.canvas.height];o=G.intersect(o,s)||[0,0,0,0];var l=Math.floor(o[0]),h=Math.floor(o[1]),u=Math.max(Math.ceil(o[2])-l,1),f=Math.max(Math.ceil(o[3])-h,1),p=1,d=1;u>ve&&(p=u/ve,u=ve),f>ve&&(d=f/ve,f=ve);var g="groupAt"+this.groupLevel;n.smask&&(g+="_smask_"+this.smaskCounter++%2);var A=ye.getCanvas(g,u,f,!0),m=A.context;m.scale(1/p,1/d),m.translate(-l,-h),m.transform.apply(m,i),n.smask?this.smaskStack.push({canvas:A.canvas,context:m,offsetX:l,offsetY:h,scaleX:p,scaleY:d,subtype:n.smask.subtype,backdrop:n.smask.backdrop,colorSpace:n.colorSpace&&Y.fromIR(n.colorSpace)}):(r.setTransform(1,0,0,1,0,0),r.translate(l,h),r.scale(p,d)),c(r,m),this.ctx=m,this.setGState([["BM","Normal"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++},endGroup:function(t){this.groupLevel--;var e=this.ctx;this.ctx=this.groupStack.pop(),"imageSmoothingEnabled"in this.ctx?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,t.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(e.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.current=new Se},endAnnotations:function(){this.restore()},beginAnnotation:function(t,e,n){if(this.save(),t&&b(t)&&4==t.length){var r=t[2]-t[0],a=t[3]-t[1];this.rectangle(t[0],t[1],r,a),this.clip(),this.endPath()}this.transform.apply(this,e),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintJpegXObject:function(t,n,r){var a=this.objs.get(t);if(!a)return void e("Dependent image isn't ready yet");this.save();var i=this.ctx;if(i.scale(1/n,-1/r),i.drawImage(a,0,0,a.width,a.height,0,-r,n,r),this.imageLayer){var o=i.mozCurrentTransformInverse,s=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:t,left:s[0],top:s[1],width:n/o[0],height:r/o[3]})}this.restore()},paintImageMaskXObject:function(t){var e=this.ctx,n=t.width,r=t.height,a=this.processingType3;if(be&&a&&!("compiled"in a)){var i=1e3;a.compiled=i>=n&&i>=r?R({data:t.data,width:n,height:r}):null}if(a&&a.compiled)return void a.compiled(e);var s=ye.getCanvas("maskCanvas",n,r),c=s.context;c.save(),o(c,t),c.globalCompositeOperation="source-in";var l=this.current.fillColor;c.fillStyle=l&&l.hasOwnProperty("type")&&"Pattern"===l.type?l.getPattern(c,this):l,c.fillRect(0,0,n,r),c.restore(),this.paintInlineImageXObject(s.canvas)},paintImageMaskXObjectRepeat:function(t,e,n,r){var a=t.width,i=t.height,s=this.ctx,c=ye.getCanvas("maskCanvas",a,i),l=c.context;l.save(),o(l,t),l.globalCompositeOperation="source-in";var h=this.current.fillColor;l.fillStyle=h&&h.hasOwnProperty("type")&&"Pattern"===h.type?h.getPattern(l,this):h,l.fillRect(0,0,a,i),l.restore();for(var u=0,f=r.length;f>u;u+=2)s.save(),s.transform(e,0,0,n,r[u],r[u+1]),s.scale(1,-1),s.drawImage(c.canvas,0,0,a,i,0,-1,1,1),s.restore()},paintImageMaskXObjectGroup:function(t){for(var e=this.ctx,n=0,r=t.length;r>n;n++){var a=t[n],i=a.width,s=a.height,c=ye.getCanvas("maskCanvas",i,s),l=c.context;l.save(),o(l,a),l.globalCompositeOperation="source-in";var h=this.current.fillColor;l.fillStyle=h&&h.hasOwnProperty("type")&&"Pattern"===h.type?h.getPattern(l,this):h,l.fillRect(0,0,i,s),l.restore(),e.save(),e.transform.apply(e,a.transform),e.scale(1,-1),e.drawImage(c.canvas,0,0,i,s,0,-1,1,1),e.restore()}},paintImageXObject:function(t){var n=this.objs.get(t);return n?void this.paintInlineImageXObject(n):void e("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(t,n,r,a){var i=this.objs.get(t);if(!i)return void e("Dependent image isn't ready yet");for(var o=i.width,s=i.height,c=[],l=0,h=a.length;h>l;l+=2)c.push({transform:[n,0,0,r,a[l],a[l+1]],x:0,y:0,w:o,h:s});this.paintInlineImageXObjectGroup(i,c)},paintInlineImageXObject:function(t){var e=t.width,n=t.height,r=this.ctx;this.save(),r.scale(1/e,-1/n);var a,o,s=r.mozCurrentTransformInverse,c=s[0],l=s[1],h=Math.max(Math.sqrt(c*c+l*l),1),u=s[2],f=s[3],p=Math.max(Math.sqrt(u*u+f*f),1);if(t instanceof HTMLElement||!t.data)a=t;else{o=ye.getCanvas("inlineImage",e,n);var d=o.context;i(d,t),a=o.canvas}for(var g=e,A=n,m="prescale1";h>2&&g>1||p>2&&A>1;){var v=g,b=A;h>2&&g>1&&(v=Math.ceil(g/2),h/=g/v),p>2&&A>1&&(b=Math.ceil(A/2),p/=A/b),o=ye.getCanvas(m,v,b),d=o.context,d.clearRect(0,0,v,b),d.drawImage(a,0,0,g,A,0,0,v,b),a=o.canvas,g=v,A=b,m="prescale1"===m?"prescale2":"prescale1"}if(r.drawImage(a,0,0,g,A,0,-n,e,n),this.imageLayer){var y=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:t,left:y[0],top:y[1],width:e/s[0],height:n/s[3]})}this.restore()},paintInlineImageXObjectGroup:function(t,e){var n=this.ctx,r=t.width,a=t.height,o=ye.getCanvas("inlineImage",r,a),s=o.context;i(s,t);for(var c=0,l=e.length;l>c;c++){var h=e[c];if(n.save(),n.transform.apply(n,h.transform),n.scale(1,-1),n.drawImage(o.canvas,h.x,h.y,h.w,h.h,0,-1,1,1),this.imageLayer){var u=this.getCanvasPosition(h.x,h.y);this.imageLayer.appendImage({imgData:t,left:u[0],top:u[1],width:r,height:a})}n.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},markPoint:function(){},markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){if(this.pendingClip){if(this.pendingClip==A)if("mozFillRule"in this.ctx)this.ctx.mozFillRule="evenodd",this.ctx.clip(),this.ctx.mozFillRule="nonzero";else try{this.ctx.clip("evenodd")}catch(t){this.ctx.clip()}else this.ctx.clip();this.pendingClip=null}this.ctx.beginPath()},getSinglePixelWidth:function(){var t=this.ctx.mozCurrentTransformInverse;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))},getCanvasPosition:function(t,e){var n=this.ctx.mozCurrentTransform;return[n[0]*t+n[2]*e+n[4],n[1]*t+n[3]*e+n[5]]}};for(var m in M)r.prototype[M[m]]=r.prototype[m];return r}(),Pe=function(){function t(t,e,n){var r=t.createShader(n);t.shaderSource(r,e),t.compileShader(r);var a=t.getShaderParameter(r,t.COMPILE_STATUS);if(!a){var i=t.getShaderInfoLog(r);throw new Error("Error during shader compilation: "+i)}return r}function e(e,n){return t(e,n,e.VERTEX_SHADER)}function n(e,n){return t(e,n,e.FRAGMENT_SHADER)}function r(t,e){for(var n=t.createProgram(),r=0,a=e.length;a>r;++r)t.attachShader(n,e[r]);t.linkProgram(n);var i=t.getProgramParameter(n,t.LINK_STATUS);if(!i){var o=t.getProgramInfoLog(n);throw new Error("Error during program linking: "+o)}return n}function a(t,e,n){t.activeTexture(n);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),r}function i(){f||(p=document.createElement("canvas"),f=p.getContext("webgl",{premultipliedalpha:!1}))}function o(){var t,a;i(),t=p,p=null,a=f,f=null;var o=e(a,d),s=n(a,g),c=r(a,[o,s]);a.useProgram(c);var l={};l.gl=a,l.canvas=t,l.resolutionLocation=a.getUniformLocation(c,"u_resolution"),l.positionLocation=a.getAttribLocation(c,"a_position"),l.backdropLocation=a.getUniformLocation(c,"u_backdrop"),l.subtypeLocation=a.getUniformLocation(c,"u_subtype");var h=a.getAttribLocation(c,"a_texCoord"),u=a.getUniformLocation(c,"u_image"),m=a.getUniformLocation(c,"u_mask"),v=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,v),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),a.STATIC_DRAW),a.enableVertexAttribArray(h),a.vertexAttribPointer(h,2,a.FLOAT,!1,0,0),a.uniform1i(u,0),a.uniform1i(m,1),A=l}function c(t,e,n){var r=t.width,i=t.height;A||o();var s=A,c=s.canvas,l=s.gl;c.width=r,c.height=i,l.viewport(0,0,l.drawingBufferWidth,l.drawingBufferHeight),l.uniform2f(s.resolutionLocation,r,i),n.backdrop?l.uniform4f(s.resolutionLocation,n.backdrop[0],n.backdrop[1],n.backdrop[2],1):l.uniform4f(s.resolutionLocation,0,0,0,0),l.uniform1i(s.subtypeLocation,"Luminosity"===n.subtype?1:0);var h=a(l,t,l.TEXTURE0),u=a(l,e,l.TEXTURE1),f=l.createBuffer();return l.bindBuffer(l.ARRAY_BUFFER,f),l.bufferData(l.ARRAY_BUFFER,new Float32Array([0,0,r,0,0,i,0,i,r,0,r,i]),l.STATIC_DRAW),l.enableVertexAttribArray(s.positionLocation),l.vertexAttribPointer(s.positionLocation,2,l.FLOAT,!1,0,0),l.clearColor(0,0,0,0),l.enable(l.BLEND),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA),l.clear(l.COLOR_BUFFER_BIT),l.drawArrays(l.TRIANGLES,0,6),l.flush(),l.deleteTexture(h),l.deleteTexture(u),l.deleteBuffer(f),c}function l(){var t,a;i(),t=p,p=null,a=f,f=null;var o=e(a,m),s=n(a,v),c=r(a,[o,s]);a.useProgram(c);var l={};l.gl=a,l.canvas=t,l.resolutionLocation=a.getUniformLocation(c,"u_resolution"),l.scaleLocation=a.getUniformLocation(c,"u_scale"),l.offsetLocation=a.getUniformLocation(c,"u_offset"),l.positionLocation=a.getAttribLocation(c,"a_position"),l.colorLocation=a.getAttribLocation(c,"a_color"),b=l}function h(t,e,n,r,a){b||l();var i=b,o=i.canvas,s=i.gl;o.width=t,o.height=e,s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.uniform2f(i.resolutionLocation,t,e);var c,h,u,f=0;for(c=0,h=r.length;h>c;c++)switch(r[c].type){case"lattice":u=r[c].coords.length/r[c].verticesPerRow|0,f+=(u-1)*(r[c].verticesPerRow-1)*6;break;case"triangles":f+=r[c].coords.length}var p=new Float32Array(2*f),d=new Uint8Array(3*f),g=a.coords,A=a.colors,m=0,v=0;for(c=0,h=r.length;h>c;c++){var y=r[c],S=y.coords,C=y.colors;switch(y.type){case"lattice":var P=y.verticesPerRow;u=S.length/P|0;for(var k=1;u>k;k++)for(var x=k*P+1,R=1;P>R;R++,x++)p[m]=g[S[x-P-1]],p[m+1]=g[S[x-P-1]+1],p[m+2]=g[S[x-P]],p[m+3]=g[S[x-P]+1],p[m+4]=g[S[x-1]],p[m+5]=g[S[x-1]+1],d[v]=A[C[x-P-1]],d[v+1]=A[C[x-P-1]+1],d[v+2]=A[C[x-P-1]+2],d[v+3]=A[C[x-P]],d[v+4]=A[C[x-P]+1],d[v+5]=A[C[x-P]+2],d[v+6]=A[C[x-1]],d[v+7]=A[C[x-1]+1],d[v+8]=A[C[x-1]+2],p[m+6]=p[m+2],p[m+7]=p[m+3],p[m+8]=p[m+4],p[m+9]=p[m+5],p[m+10]=g[S[x]],p[m+11]=g[S[x]+1],d[v+9]=d[v+3],d[v+10]=d[v+4],d[v+11]=d[v+5],d[v+12]=d[v+6],d[v+13]=d[v+7],d[v+14]=d[v+8],d[v+15]=A[C[x]],d[v+16]=A[C[x]+1],d[v+17]=A[C[x]+2],m+=12,v+=18;break;case"triangles":for(var D=0,w=S.length;w>D;D++)p[m]=g[S[D]],p[m+1]=g[S[D]+1],d[v]=A[C[c]],d[v+1]=A[C[D]+1],d[v+2]=A[C[D]+2],m+=2,v+=3}}n?s.clearColor(n[0]/255,n[1]/255,n[2]/255,1):s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT);var F=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,F),s.bufferData(s.ARRAY_BUFFER,p,s.STATIC_DRAW),s.enableVertexAttribArray(i.positionLocation),s.vertexAttribPointer(i.positionLocation,2,s.FLOAT,!1,0,0);var T=s.createBuffer();return s.bindBuffer(s.ARRAY_BUFFER,T),s.bufferData(s.ARRAY_BUFFER,d,s.STATIC_DRAW),s.enableVertexAttribArray(i.colorLocation),s.vertexAttribPointer(i.colorLocation,3,s.UNSIGNED_BYTE,!1,0,0),s.uniform2f(i.scaleLocation,a.scaleX,a.scaleY),s.uniform2f(i.offsetLocation,a.offsetX,a.offsetY),s.drawArrays(s.TRIANGLES,0,f),s.flush(),s.deleteBuffer(F),s.deleteBuffer(T),o}function u(){A=null,b=null}var f,p,d="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",g="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",A=null,m="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",v="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",b=null;
return{get isEnabled(){if(PDFJS.disableWebGL)return!1;var t=!1;try{i(),t=!!f}catch(e){}return s(this,"isEnabled",t)},composeSMask:c,drawFigures:h,clear:u}}(),ke={};ke.RadialAxial={fromIR:function(t){var e=t[1],n=t[2],r=t[3],a=t[4],i=t[5],o=t[6];return{type:"Pattern",getPattern:function(t){var s;"axial"===e?s=t.createLinearGradient(r[0],r[1],a[0],a[1]):"radial"===e&&(s=t.createRadialGradient(r[0],r[1],i,a[0],a[1],o));for(var c=0,l=n.length;l>c;++c){var h=n[c];s.addColorStop(h[0],h[1])}return s}}}};var xe=function(){function t(t,e,n,r,a,i,o,s){var c,l=e.coords,h=e.colors,u=t.data,f=4*t.width;l[n+1]>l[r+1]&&(c=n,n=r,r=c,c=i,i=o,o=c),l[r+1]>l[a+1]&&(c=r,r=a,a=c,c=o,o=s,s=c),l[n+1]>l[r+1]&&(c=n,n=r,r=c,c=i,i=o,o=c);var p=(l[n]+e.offsetX)*e.scaleX,d=(l[n+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,A=(l[r+1]+e.offsetY)*e.scaleY,m=(l[a]+e.offsetX)*e.scaleX,v=(l[a+1]+e.offsetY)*e.scaleY;if(!(d>=v))for(var b,y,S,C,P,k,x,R,D,w=h[i],F=h[i+1],T=h[i+2],I=h[o],L=h[o+1],M=h[o+2],E=h[s],_=h[s+1],O=h[s+2],j=Math.round(d),B=Math.round(v),J=j;B>=J;J++){A>J?(D=d>J?0:d===A?1:(d-J)/(d-A),b=p-(p-g)*D,y=w-(w-I)*D,S=F-(F-L)*D,C=T-(T-M)*D):(D=J>v?1:A===v?0:(A-J)/(A-v),b=g-(g-m)*D,y=I-(I-E)*D,S=L-(L-_)*D,C=M-(M-O)*D),D=d>J?0:J>v?1:(d-J)/(d-v),P=p-(p-m)*D,k=w-(w-E)*D,x=F-(F-_)*D,R=T-(T-O)*D;for(var G=Math.round(Math.min(b,P)),U=Math.round(Math.max(b,P)),W=f*J+4*G,N=G;U>=N;N++)D=(b-N)/(b-P),D=0>D?0:D>1?1:D,u[W++]=y-(y-k)*D|0,u[W++]=S-(S-x)*D|0,u[W++]=C-(C-R)*D|0,u[W++]=255}}function e(e,r,a){var i,o,s=r.coords,c=r.colors;switch(r.type){case"lattice":var l=r.verticesPerRow,h=Math.floor(s.length/l)-1,u=l-1;for(i=0;h>i;i++)for(var f=i*l,p=0;u>p;p++,f++)t(e,a,s[f],s[f+1],s[f+l],c[f],c[f+1],c[f+l]),t(e,a,s[f+l+1],s[f+1],s[f+l],c[f+l+1],c[f+1],c[f+l]);break;case"triangles":for(i=0,o=s.length;o>i;i+=3)t(e,a,s[i],s[i+1],s[i+2],c[i],c[i+1],c[i+2]);break;default:n("illigal figure")}}function r(t,n,r,a,i,o){var s,c,l,h,u=1.1,f=3e3,p=Math.floor(t[0]),d=Math.floor(t[1]),g=Math.ceil(t[2])-p,A=Math.ceil(t[3])-d,m=Math.min(Math.ceil(Math.abs(g*n[0]*u)),f),v=Math.min(Math.ceil(Math.abs(A*n[1]*u)),f),b=g/m,y=A/v,S={coords:r,colors:a,offsetX:-p,offsetY:-d,scaleX:1/b,scaleY:1/y};if(Pe.isEnabled)s=Pe.drawFigures(m,v,o,i,S),c=ye.getCanvas("mesh",m,v,!1),c.context.drawImage(s,0,0),s=c.canvas;else{c=ye.getCanvas("mesh",m,v,!1);var C=c.context,P=C.createImageData(m,v);if(o){var k=P.data;for(l=0,h=k.length;h>l;l+=4)k[l]=o[0],k[l+1]=o[1],k[l+2]=o[2],k[l+3]=255}for(l=0;l<i.length;l++)e(P,i[l],S);C.putImageData(P,0,0),s=c.canvas}return{canvas:s,offsetX:p,offsetY:d,scaleX:b,scaleY:y}}return r}();ke.Mesh={fromIR:function(t){var e=(t[1],t[2]),n=t[3],r=t[4],a=t[5],i=t[6],o=(t[7],t[8]);return{type:"Pattern",getPattern:function(t,s,c){var l;if(c)l=G.singularValueDecompose2dScale(t.mozCurrentTransform);else{var h=G.singularValueDecompose2dScale(i),u=G.singularValueDecompose2dScale(s.baseTransform);l=[h[0]*u[0],h[1]*u[1]]}var f=xe(a,l,e,n,r,c?null:o);return c||(t.setTransform.apply(t,s.baseTransform),i&&t.transform.apply(t,i)),t.translate(f.offsetX,f.offsetY),t.scale(f.scaleX,f.scaleY),t.createPattern(f.canvas,"no-repeat")}}}},ke.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var Re=function(){function e(t,e,n,r,a,i){this.name=t[1][0].name,this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.objs=r,this.commonObjs=a,this.baseTransform=i,this.type="Pattern",this.ctx=n}var r={COLORED:1,UNCOLORED:2},a=3e3;return e.prototype={createPatternCanvas:function(e){{var n=this.operatorList,r=this.bbox,i=this.xstep,o=this.ystep,s=this.paintType,c=this.tilingType,l=this.color,h=this.objs,u=this.commonObjs;this.ctx}t("TilingType: "+c);var f=r[0],p=r[1],d=r[2],g=r[3],A=[f,p],m=[f+i,p+o],v=m[0]-A[0],b=m[1]-A[1],y=G.singularValueDecompose2dScale(this.matrix),S=G.singularValueDecompose2dScale(this.baseTransform),C=[y[0]*S[0],y[1]*S[1]];v=Math.min(Math.ceil(Math.abs(v*C[0])),a),b=Math.min(Math.ceil(Math.abs(b*C[1])),a);var P=ye.getCanvas("pattern",v,b,!0),k=P.context,x=new Ce(k,u,h);x.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(k,s,l),this.setScale(v,b,i,o),this.transformToScale(x);var R=[1,0,0,1,-A[0],-A[1]];return x.transform.apply(x,R),this.clipBbox(x,r,f,p,d,g),x.executeOperatorList(n),P.canvas},setScale:function(t,e,n,r){this.scale=[t/n,e/r]},transformToScale:function(t){var e=this.scale,n=[e[0],0,0,e[1],0,0];t.transform.apply(t,n)},scaleToContext:function(){var t=this.scale;this.ctx.scale(1/t[0],1/t[1])},clipBbox:function(t,e,n,r,a,i){if(e&&b(e)&&4==e.length){var o=a-n,s=i-r;t.rectangle(n,r,o,s),t.clip(),t.endPath()}},setFillAndStrokeStyleToContext:function(t,e,a){switch(e){case r.COLORED:var i=this.ctx;t.fillStyle=i.fillStyle,t.strokeStyle=i.strokeStyle;break;case r.UNCOLORED:var o=Y.singletons.rgb.getRgb(a,0),s=G.makeCssRgb(o);t.fillStyle=s,t.strokeStyle=s;break;default:n("Unsupported paint type: "+e)}},getPattern:function(t,e){var n=this.createPatternCanvas(e);return t=this.ctx,t.setTransform.apply(t,this.baseTransform),t.transform.apply(t,this.matrix),this.scaleToContext(),t.createPattern(n,"repeat")}},e}();PDFJS.disableFontFace=!1;var De={insertRule:function(t){var e=document.getElementById("PDFJS_FONT_STYLE_TAG");e||(e=document.createElement("style"),e.id="PDFJS_FONT_STYLE_TAG",document.documentElement.getElementsByTagName("head")[0].appendChild(e));var n=e.sheet;n.insertRule(t,n.cssRules.length)},clear:function(){var t=document.getElementById("PDFJS_FONT_STYLE_TAG");t&&t.parentNode.removeChild(t)},get loadTestFont(){return s(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},loadTestFontId:0,loadingContext:{requests:[],nextRequestId:0},isSyncFontLoadingSupported:function(){if(F)return!1;var t=window.navigator.userAgent,e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(t);return e&&e[1]>=14?!0:!1}(),bind:function(t,e){a(!F,"bind() shall be called from main thread");for(var n=[],r=[],i=0,o=t.length;o>i;i++){var s=t[i];if(!s.attached&&s.loading!==!1){s.attached=!0;var c=s.bindDOM();c&&(n.push(c),r.push(s))}}var l=De.queueLoadingCallback(e);n.length>0&&!this.isSyncFontLoadingSupported?De.prepareFontLoadEvent(n,r,l):l.complete()},queueLoadingCallback:function(t){function e(){for(a(!i.end,"completeRequest() cannot be called twice"),i.end=Date.now();n.requests.length>0&&n.requests[0].end;){var t=n.requests.shift();setTimeout(t.callback,0)}}var n=De.loadingContext,r="pdfjs-font-loading-"+n.nextRequestId++,i={id:r,complete:e,callback:t,started:Date.now()};return n.requests.push(i),i},prepareFontLoadEvent:function(t,n,r){function a(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function i(t,e,n,r){var a=t.substr(0,e),i=t.substr(e+n);return a+r+i}function o(t,n){if(f++,f>30)return e("Load test font never loaded."),void n();u.font="30px "+t,u.fillText(".",0,20);var r=u.getImageData(0,0,1,1);return r.data[3]>0?void n():void setTimeout(o.bind(null,t,n))}var s,c,l=document.createElement("canvas");l.width=1,l.height=1;var u=l.getContext("2d"),f=0,p="lt"+Date.now()+this.loadTestFontId++,d=this.loadTestFont,g=976;d=i(d,g,p.length,p);var A=16,m=1482184792,v=a(d,A);for(s=0,c=p.length-3;c>s;s+=4)v=v-m+a(p,s)|0;s<p.length&&(v=v-m+a(p+"XXX",s)|0),d=i(d,A,4,h(v));var b="url(data:font/opentype;base64,"+btoa(d)+");",y='@font-face { font-family:"'+p+'";src:'+b+"}";De.insertRule(y);var S=[];for(s=0,c=n.length;c>s;s++)S.push(n[s].loadedName);S.push(p);var C=document.createElement("div");for(C.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),s=0,c=S.length;c>s;++s){var P=document.createElement("span");P.textContent="Hi",P.style.fontFamily=S[s],C.appendChild(P)}document.body.appendChild(C),o(p,function(){document.body.removeChild(C),r.complete()})}},we=function(){function t(){if(this.compiledGlyphs={},1!==arguments.length);else{var t=arguments[0];for(var e in t)this[e]=t[e]}}return t.prototype={bindDOM:function(){if(!this.data)return null;if(PDFJS.disableFontFace)return this.disableFontFace=!0,null;var t=c(new Uint8Array(this.data)),e=this.loadedName,n="url(data:"+this.mimetype+";base64,"+window.btoa(t)+");",r='@font-face { font-family:"'+e+'";src:'+n+"}";return De.insertRule(r),PDFJS.pdfBug&&"FontInspector"in w&&w.FontInspector.enabled&&w.FontInspector.fontAdded(this,n),r},getPathGenerator:function(t,e){if(!(e in this.compiledGlyphs)){var n=t.get(this.loadedName+"_path_"+e);this.compiledGlyphs[e]=new Function("c","size",n)}return this.compiledGlyphs[e]}},t}()}.call("undefined"==typeof window?this:window),PDFJS.workerSrc||"undefined"==typeof document||(PDFJS.workerSrc=function(){var t=document.body||document.getElementsByTagName("head")[0],e=t.lastChild.src;return e&&e.replace(/\.js$/i,".worker.js")}());
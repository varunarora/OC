define([],function(){function e(e){var t=e.indexOf("#"),i=e.indexOf("?"),n=Math.min(t>0?t:e.length,i>0?i:e.length);return e.substring(e.lastIndexOf("/",n)+1,n)}function t(e){var t=window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,n=t/i;return{sx:n,sy:n,scaled:1!=n}}function i(e,t){var i=e.offsetParent,n=e.offsetTop+e.clientTop,s=e.offsetLeft+e.clientLeft;if(!i)return void console.error("offsetParent is not set -- cannot scroll");for(;i.clientHeight===i.scrollHeight;)if(i.dataset._scaleY&&(n/=i.dataset._scaleY,s/=i.dataset._scaleX),n+=i.offsetTop,s+=i.offsetLeft,i=i.offsetParent,!i)return;t&&(void 0!==t.top&&(n+=t.top),void 0!==t.left&&(s+=t.left,i.scrollLeft=s)),i.scrollTop=n}function n(e){e.preventDefault()}function s(e){var t=/^(?:([^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,n=t.exec(e),s=i.exec(n[1])||i.exec(n[2])||i.exec(n[3]);if(s&&(s=s[0],-1!=s.indexOf("%")))try{s=i.exec(decodeURIComponent(s))[0]}catch(a){}return s||"document.pdf"}function a(){Z.initialize().then(o)}function o(){var e=Z.parseQueryString(document.location.search.substring(1)),t="file"in e?e.file:h,i=document.createElement("input");i.id="fileInput",i.className="fileInput",i.setAttribute("type","file"),i.oncontextmenu=n,document.body.appendChild(i),window.File&&window.FileReader&&window.FileList&&window.Blob?document.getElementById("fileInput").value=null:(document.getElementById("openFile").setAttribute("hidden","true"),document.getElementById("secondaryOpenFile").setAttribute("hidden","true"));var s=document.location.hash.substring(1),a=Z.parseQueryString(s);"disableWorker"in a&&(PDFJS.disableWorker="true"===a.disableWorker),"disableRange"in a&&(PDFJS.disableRange="true"===a.disableRange),"disableAutoFetch"in a&&(PDFJS.disableAutoFetch="true"===a.disableAutoFetch),"disableFontFace"in a&&(PDFJS.disableFontFace="true"===a.disableFontFace),"disableHistory"in a&&(PDFJS.disableHistory="true"===a.disableHistory),"webgl"in a&&(PDFJS.disableWebGL="true"!==a.webgl),"useOnlyCssZoom"in a&&(E="true"===a.useOnlyCssZoom),"verbosity"in a&&(PDFJS.verbosity=0|a.verbosity),"ignoreCurrentPositionOnZoom"in a&&(C="true"===a.ignoreCurrentPositionOnZoom);var o=PDFJS.locale||navigator.language;if("locale"in a&&(o=a.locale),B.setLanguage(o),"textLayer"in a)switch(a.textLayer){case"off":PDFJS.disableTextLayer=!0;break;case"visible":case"shadow":case"hover":var r=document.getElementById("viewer");r.classList.add("textLayer-"+a.textLayer)}if("pdfBug"in a){PDFJS.pdfBug=!0;var d=a.pdfBug,l=d.split(",");PDFBug.enable(l),PDFBug.init()}Z.supportsPrinting||(document.getElementById("print").classList.add("hidden"),document.getElementById("secondaryPrint").classList.add("hidden")),Z.supportsFullscreen||(document.getElementById("presentationMode").classList.add("hidden"),document.getElementById("secondaryPresentationMode").classList.add("hidden")),Z.supportsIntegratedFind&&document.getElementById("viewFind").classList.add("hidden"),PDFJS.UnsupportedManager.listen(Z.fallback.bind(Z)),document.getElementById("scaleSelect").oncontextmenu=n;var c=document.getElementById("mainContainer"),u=document.getElementById("outerContainer");c.addEventListener("transitionend",function(e){if(e.target==c){var t=document.createEvent("UIEvents");t.initUIEvent("resize",!1,!1,window,0),window.dispatchEvent(t),u.classList.remove("sidebarMoving")}},!0),document.getElementById("sidebarToggle").addEventListener("click",function(){this.classList.toggle("toggled"),u.classList.add("sidebarMoving"),u.classList.toggle("sidebarOpen"),Z.sidebarOpen=u.classList.contains("sidebarOpen"),Z.renderHighestPriority()}),document.getElementById("viewThumbnail").addEventListener("click",function(){Z.switchSidebarView("thumbs")}),document.getElementById("viewOutline").addEventListener("click",function(){Z.switchSidebarView("outline")}),document.getElementById("previous").addEventListener("click",function(){Z.page--}),document.getElementById("next").addEventListener("click",function(){Z.page++}),document.getElementById("zoomIn").addEventListener("click",function(){Z.zoomIn()}),document.getElementById("zoomOut").addEventListener("click",function(){Z.zoomOut()}),document.getElementById("pageNumber").addEventListener("click",function(){this.select()}),document.getElementById("pageNumber").addEventListener("change",function(){Z.page=0|this.value,this.value!==(0|this.value).toString()&&(this.value=Z.page)}),document.getElementById("scaleSelect").addEventListener("change",function(){Z.setScale(this.value)}),document.getElementById("presentationMode").addEventListener("click",V.presentationModeClick.bind(V)),document.getElementById("openFile").addEventListener("click",V.openFileClick.bind(V)),document.getElementById("print").addEventListener("click",V.printClick.bind(V)),document.getElementById("download").addEventListener("click",V.downloadClick.bind(V)),t&&Z.open(t,0)}function r(){if(Z.initialized){var e=Z.getVisiblePages(),t=e.views;if(0!==t.length){Z.renderHighestPriority();for(var i=Z.page,n=e.first,s=0,a=t.length,o=!1;a>s;++s){var d=t[s];if(d.percent<100)break;if(d.id===Z.page){o=!0;break}}o||(i=t[0].id),G.active||(r.inProgress=!0,Z.page=i,r.inProgress=!1);var l=Z.currentScale,h=Z.currentScaleValue,c=parseFloat(h)===l?Math.round(1e4*l)/100:h,u=n.id,g="#page="+u;g+="&zoom="+c;var f=Z.pages[u-1],m=Z.container,p=f.getPagePoint(m.scrollLeft-n.x,m.scrollTop-n.y),v=Math.round(p[0]),w=Math.round(p[1]);g+=","+v+","+w,Z.currentPosition=G.active||G.switchInProgress?null:{page:u,left:v,top:w};var b=Z.store;b.initializedPromise.then(function(){b.set("exists",!0),b.set("page",u),b.set("zoom",c),b.set("scrollLeft",v),b.set("scrollTop",w)});var y=Z.getAnchorUrl(g);document.getElementById("viewBookmark").href=y,document.getElementById("secondaryViewBookmark").href=y,U.updateCurrentBookmark(g,u)}}}function d(e){for(var t=document.getElementById("scaleSelect").options,i=!1,n=0;n<t.length;n++){var s=t[n];s.value==e?(s.selected=!0,i=!0):s.selected=!1}return i}function l(e){var t=40,i="DOMMouseScroll"===e.type?-e.detail:e.wheelDelta/t,n=0>i?"zoomOut":"zoomIn";e.ctrlKey?(e.preventDefault(),Z[n](Math.abs(i))):G.active&&Z.mouseScroll(i*t)}var h=OC.DEFAULT_URL,c="page-width",u=1.1,g=0,f=20,m=40,p=5,v=1.25,w=.25,b=4,y=20,P=8,I=22,S=-19,E=!1,k=3e4,C=!1,F={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},x={FIND_FOUND:0,FIND_NOTFOUND:1,FIND_WRAPPED:2,FIND_PENDING:3};PDFJS.cMapPacked=!0;var B=document.mozL10n||document.webL10n,L=function(){function e(){}var t=["ms","Moz","Webkit","O"],i={};return e.getProp=function(e,n){if(1==arguments.length&&"string"==typeof i[e])return i[e];n=n||document.documentElement;var s,a,o=n.style;if("string"==typeof o[e])return i[e]=e;a=e.charAt(0).toUpperCase()+e.slice(1);for(var r=0,d=t.length;d>r;r++)if(s=t[r]+a,"string"==typeof o[s])return i[e]=s;return i[e]="undefined"},e.setProp=function(e,t,i){var n=this.getProp(e);"undefined"!=n&&(t.style[n]=i)},e}(),D=function(){function e(e,t,i){return Math.min(Math.max(e,t),i)}function t(e,t){this.div=document.querySelector(e+" .progress"),this.bar=this.div.parentNode,this.height=t.height||100,this.width=t.width||100,this.units=t.units||"%",this.div.style.height=this.height+this.units,this.percent=0}return t.prototype={updateBar:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");var e=this.width*this._percent/100;this.div.style.width=e+this.units},get percent(){return this._percent},set percent(t){this._indeterminate=isNaN(t),this._percent=e(t,0,100),this.updateBar()},setWidth:function(e){if(e){var t=e.parentNode,i=t.offsetWidth-e.offsetWidth;i>0&&this.bar.setAttribute("style","width: calc(100% - "+i+"px);")}},hide:function(){this.bar.classList.add("hidden"),this.bar.removeAttribute("style")}},t}(),T=function(e){var t=[];this.push=function(i){var n=t.indexOf(i);n>=0&&t.splice(n),t.push(i),t.length>e&&t.shift().destroy()}},_={showPreviousViewOnLoad:!0,defaultZoomValue:"",ifAvailableShowOutlineOnLoad:!1,enableHandToolOnLoad:!1,enableWebGL:!1},M={prefs:Object.create(_),isInitializedPromiseResolved:!1,initializedPromise:null,initialize:function(){return this.initializedPromise=this._readFromStorage(_).then(function(e){this.isInitializedPromiseResolved=!0,e&&(this.prefs=e)}.bind(this))},_writeToStorage:function(){return Promise.resolve()},_readFromStorage:function(){return Promise.resolve()},reset:function(){return this.initializedPromise.then(function(){return this.prefs=Object.create(_),this._writeToStorage(_)}.bind(this))},reload:function(){return this.initializedPromise.then(function(){this._readFromStorage(_).then(function(e){e&&(this.prefs=e)}.bind(this))}.bind(this))},set:function(e,t){return this.initializedPromise.then(function(){if(void 0===_[e])throw new Error("preferencesSet: '"+e+"' is undefined.");if(void 0===t)throw new Error("preferencesSet: no value is specified.");var i=typeof t,n=typeof _[e];if(i!==n){if("number"!==i||"string"!==n)throw new Error("Preferences_set: '"+t+"' is a \""+i+'", expected "'+n+'".');t=t.toString()}else if("number"===i&&(0|t)!==t)throw new Error("Preferences_set: '"+t+'\' must be an "integer".');return this.prefs[e]=t,this._writeToStorage(this.prefs)}.bind(this))},get:function(e){return this.initializedPromise.then(function(){var t=_[e];if(void 0===t)throw new Error("preferencesGet: '"+e+"' is undefined.");var i=this.prefs[e];return void 0!==i?i:t}.bind(this))}};M._writeToStorage=function(e){return new Promise(function(t){localStorage.setItem("pdfjs.preferences",JSON.stringify(e)),t()})},M._readFromStorage=function(){return new Promise(function(e){var t=JSON.parse(localStorage.getItem("pdfjs.preferences"));e(t)})},function(){function e(e){var t=document.createEvent("CustomEvent");t.initCustomEvent(e,!1,!1,"custom"),window.dispatchEvent(t)}function t(){if(s)if(n(),++a<s.length){var e=s[a];"function"==typeof e.mozPrintCallback?e.mozPrintCallback({context:e.getContext("2d"),abort:i,done:t}):t()}else n(),o.call(window),setTimeout(i,20)}function i(){s&&(s=null,n(),e("afterprint"))}function n(){var e=document.getElementById("mozPrintCallback-shim");if(s){var t=Math.round(100*a/s.length),n=e.querySelector("progress"),o=e.querySelector(".relative-progress");n.value=t,o.textContent=t+"%",e.removeAttribute("hidden"),e.onclick=i}else e.setAttribute("hidden","")}if(!("mozPrintCallback"in document.createElement("canvas"))){HTMLCanvasElement.prototype.mozPrintCallback=void 0;var s,a,o=window.print;window.print=function(){if(s)return void console.warn("Ignored window.print() because of a pending print job.");try{e("beforeprint")}finally{s=document.querySelectorAll("canvas"),a=-1,t()}};var r=!!document.attachEvent;if(window.addEventListener("keydown",function(e){if(80===e.keyCode&&(e.ctrlKey||e.metaKey)&&!e.altKey&&(!e.shiftKey||window.chrome||window.opera)){if(window.print(),r)return;return e.preventDefault(),void(e.stopImmediatePropagation?e.stopImmediatePropagation():e.stopPropagation())}27===e.keyCode&&s&&i()},!0),r&&document.attachEvent("onkeydown",function(e){return e=e||window.event,80===e.keyCode&&e.ctrlKey?(e.keyCode=0,!1):void 0}),"onbeforeprint"in window){var d=function(e){"custom"!==e.detail&&e.stopImmediatePropagation&&e.stopImmediatePropagation()};window.addEventListener("beforeprint",d,!1),window.addEventListener("afterprint",d,!1)}}}();var N=function(){function e(e,t){var i=document.createElement("a");if(i.click)i.href=e,i.target="_parent","download"in i&&(i.download=t),(document.body||document.documentElement).appendChild(i),i.click(),i.parentNode.removeChild(i);else{if(window.top===window&&e.split("#")[0]===window.location.href.split("#")[0]){var n=-1===e.indexOf("?")?"?":"&";e=e.replace(/#|$/,n+"$&")}window.open(e,"_parent")}}function t(){}return t.prototype={downloadUrl:function(t,i){PDFJS.isValidUrl(t,!0)&&e(t+"#pdfjs.action=download",i)},download:function(t,i,n){if(!URL)return void this.downloadUrl(i,n);if(navigator.msSaveBlob)return void(navigator.msSaveBlob(t,n)||this.downloadUrl(i,n));var s=URL.createObjectURL(t);e(s,n)}},t}(),R=new T(f),z=1,A=function(){function e(e){this.fingerprint=e;var t;this.isInitializedPromiseResolved=!1,this.initializedPromise=new Promise(function(e){t=e});var i=function(e){this.isInitializedPromiseResolved=!0,this.initialize(e||"{}"),t()}.bind(this);i(localStorage.getItem("database"))}return e.prototype={initialize:function(e){e=JSON.parse(e),"files"in e||(e.files=[]),e.files.length>=y&&e.files.shift();for(var t,i=0,n=e.files.length;n>i;i++){var s=e.files[i];if(s.fingerprint===this.fingerprint){t=i;break}}"number"!=typeof t&&(t=e.files.push({fingerprint:this.fingerprint})-1),this.file=e.files[t],this.database=e},set:function(e,t){if(this.isInitializedPromiseResolved){var i=this.file;i[e]=t;var n=JSON.stringify(this.database);localStorage.setItem("database",n)}},get:function(e,t){return this.isInitializedPromiseResolved?this.file[e]||t:t}},e}(),O={opened:!1,bar:null,toggleButton:null,findField:null,highlightAll:null,caseSensitive:null,findMsg:null,findStatusIcon:null,findPreviousButton:null,findNextButton:null,initialize:function(e){if("undefined"==typeof H||null===H)throw"PDFFindBar cannot be initialized without a PDFFindController instance.";this.bar=e.bar,this.toggleButton=e.toggleButton,this.findField=e.findField,this.highlightAll=e.highlightAllCheckbox,this.caseSensitive=e.caseSensitiveCheckbox,this.findMsg=e.findMsg,this.findStatusIcon=e.findStatusIcon,this.findPreviousButton=e.findPreviousButton,this.findNextButton=e.findNextButton;var t=this;this.toggleButton.addEventListener("click",function(){t.toggle()}),this.findField.addEventListener("input",function(){t.dispatchEvent("")}),this.bar.addEventListener("keydown",function(e){switch(e.keyCode){case 13:e.target===t.findField&&t.dispatchEvent("again",e.shiftKey);break;case 27:t.close()}}),this.findPreviousButton.addEventListener("click",function(){t.dispatchEvent("again",!0)}),this.findNextButton.addEventListener("click",function(){t.dispatchEvent("again",!1)}),this.highlightAll.addEventListener("click",function(){t.dispatchEvent("highlightallchange")}),this.caseSensitive.addEventListener("click",function(){t.dispatchEvent("casesensitivitychange")})},dispatchEvent:function(e,t){var i=document.createEvent("CustomEvent");return i.initCustomEvent("find"+e,!0,!0,{query:this.findField.value,caseSensitive:this.caseSensitive.checked,highlightAll:this.highlightAll.checked,findPrevious:t}),window.dispatchEvent(i)},updateUIState:function(e,t){var i=!1,n="",s="";switch(e){case x.FIND_FOUND:break;case x.FIND_PENDING:s="pending";break;case x.FIND_NOTFOUND:n=B.get("find_not_found",null,"Phrase not found"),i=!0;break;case x.FIND_WRAPPED:n=t?B.get("find_reached_top",null,"Reached top of document, continued from bottom"):B.get("find_reached_bottom",null,"Reached end of document, continued from top")}i?this.findField.classList.add("notFound"):this.findField.classList.remove("notFound"),this.findField.setAttribute("data-status",s),this.findMsg.textContent=n},open:function(){this.opened||(this.opened=!0,this.toggleButton.classList.add("toggled"),this.bar.classList.remove("hidden")),this.findField.select(),this.findField.focus()},close:function(){this.opened&&(this.opened=!1,this.toggleButton.classList.remove("toggled"),this.bar.classList.add("hidden"),H.active=!1)},toggle:function(){this.opened?this.close():this.open()}},H={startedTextExtraction:!1,extractTextPromises:[],pendingFindMatches:{},active:!1,pageContents:[],pageMatches:[],selected:{pageIdx:-1,matchIdx:-1},offset:{pageIdx:null,matchIdx:null},resumePageIdx:null,state:null,dirtyMatch:!1,findTimeout:null,pdfPageSource:null,integratedFind:!1,initialize:function(e){if("undefined"==typeof O||null===O)throw"PDFFindController cannot be initialized without a PDFFindBar instance";this.pdfPageSource=e.pdfPageSource,this.integratedFind=e.integratedFind;var t=["find","findagain","findhighlightallchange","findcasesensitivitychange"];this.firstPagePromise=new Promise(function(e){this.resolveFirstPage=e}.bind(this)),this.handleEvent=this.handleEvent.bind(this);for(var i=0;i<t.length;i++)window.addEventListener(t[i],this.handleEvent)},reset:function(){this.startedTextExtraction=!1,this.extractTextPromises=[],this.active=!1},calcFindMatch:function(e){var t=this.pageContents[e],i=this.state.query,n=this.state.caseSensitive,s=i.length;if(0!==s){n||(t=t.toLowerCase(),i=i.toLowerCase());for(var a=[],o=-s;;){if(o=t.indexOf(i,o+s),-1===o)break;a.push(o)}this.pageMatches[e]=a,this.updatePage(e),this.resumePageIdx===e&&(this.resumePageIdx=null,this.nextPageMatch())}},extractText:function(){function e(i){s.pdfPageSource.pages[i].getTextContent().then(function(n){for(var a=n.items,o="",r=0;r<a.length;r++)o+=a[r].str;s.pageContents.push(o),t[i](i),i+1<s.pdfPageSource.pages.length&&e(i+1)})}if(!this.startedTextExtraction){this.startedTextExtraction=!0,this.pageContents=[];for(var t=[],i=0,n=this.pdfPageSource.pdfDocument.numPages;n>i;i++)this.extractTextPromises.push(new Promise(function(e){t.push(e)}));var s=this;e(0)}},handleEvent:function(e){(null===this.state||"findagain"!==e.type)&&(this.dirtyMatch=!0),this.state=e.detail,this.updateUIState(x.FIND_PENDING),this.firstPagePromise.then(function(){this.extractText(),clearTimeout(this.findTimeout),"find"===e.type?this.findTimeout=setTimeout(this.nextMatch.bind(this),250):this.nextMatch()}.bind(this))},updatePage:function(e){var t=this.pdfPageSource.pages[e];this.selected.pageIdx===e&&t.scrollIntoView(),t.textLayer&&t.textLayer.updateMatches()},nextMatch:function(){var e=this.state.findPrevious,t=this.pdfPageSource.page-1,i=this.pdfPageSource.pages.length;if(this.active=!0,this.dirtyMatch){this.dirtyMatch=!1,this.selected.pageIdx=this.selected.matchIdx=-1,this.offset.pageIdx=t,this.offset.matchIdx=null,this.hadMatch=!1,this.resumePageIdx=null,this.pageMatches=[];for(var n=this,s=0;i>s;s++)this.updatePage(s),s in this.pendingFindMatches||(this.pendingFindMatches[s]=!0,this.extractTextPromises[s].then(function(e){delete n.pendingFindMatches[e],n.calcFindMatch(e)}))}if(""===this.state.query)return void this.updateUIState(x.FIND_FOUND);if(!this.resumePageIdx){var a=this.offset;if(null!==a.matchIdx){var o=this.pageMatches[a.pageIdx].length;if(!e&&a.matchIdx+1<o||e&&a.matchIdx>0)return this.hadMatch=!0,a.matchIdx=e?a.matchIdx-1:a.matchIdx+1,void this.updateMatch(!0);this.advanceOffsetPage(e)}this.nextPageMatch()}},matchesReady:function(e){var t=this.offset,i=e.length,n=this.state.findPrevious;return i?(this.hadMatch=!0,t.matchIdx=n?i-1:0,this.updateMatch(!0),!0):(this.advanceOffsetPage(n),t.wrapped&&(t.matchIdx=null,!this.hadMatch)?(this.updateMatch(!1),!0):!1)},nextPageMatch:function(){null!==this.resumePageIdx&&console.error("There can only be one pending page.");do{var e=this.offset.pageIdx,t=this.pageMatches[e];if(!t){this.resumePageIdx=e;break}}while(!this.matchesReady(t))},advanceOffsetPage:function(e){var t=this.offset,i=this.extractTextPromises.length;return t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,t.pageIdx>=i||t.pageIdx<0?(t.pageIdx=e?i-1:0,void(t.wrapped=!0)):void 0},updateMatch:function(e){var t=x.FIND_NOTFOUND,i=this.offset.wrapped;if(this.offset.wrapped=!1,e){var n=this.selected.pageIdx;this.selected.pageIdx=this.offset.pageIdx,this.selected.matchIdx=this.offset.matchIdx,t=i?x.FIND_WRAPPED:x.FIND_FOUND,-1!==n&&n!==this.selected.pageIdx&&this.updatePage(n)}this.updateUIState(t,this.state.findPrevious),-1!==this.selected.pageIdx&&this.updatePage(this.selected.pageIdx,!0)},updateUIState:function(e,t){return this.integratedFind?void FirefoxCom.request("updateFindControlState",{result:e,findPrevious:t}):void O.updateUIState(e,t)}},U={initialized:!1,initialDestination:null,initialize:function(e){function t(){var e=n._getPreviousParams(null,!0);if(e){var i=!n.current.dest&&n.current.hash!==n.previousHash;n._pushToHistory(e,!1,i),n._updatePreviousBookmark()}window.removeEventListener("beforeunload",t,!1)}if(!PDFJS.disableHistory&&!Z.isViewerEmbedded){this.initialized=!0,this.reInitialized=!1,this.allowHashChange=!0,this.historyUnlocked=!0,this.previousHash=window.location.hash.substring(1),this.currentBookmark="",this.currentPage=0,this.updatePreviousBookmark=!1,this.previousBookmark="",this.previousPage=0,this.nextHashParam="",this.fingerprint=e,this.currentUid=this.uid=0,this.current={};var i=window.history.state;this._isStateObjectDefined(i)?(i.target.dest?this.initialDestination=i.target.dest:Z.initialBookmark=i.target.hash,this.currentUid=i.uid,this.uid=i.uid+1,this.current=i.target):(i&&i.fingerprint&&this.fingerprint!==i.fingerprint&&(this.reInitialized=!0),this._pushOrReplaceState({fingerprint:this.fingerprint},!0));var n=this;window.addEventListener("popstate",function(e){if(e.preventDefault(),e.stopPropagation(),n.historyUnlocked)if(e.state)n._goTo(e.state);else{if(n.previousHash=window.location.hash.substring(1),0===n.uid){var t=n.previousHash&&n.currentBookmark&&n.previousHash!==n.currentBookmark?{hash:n.currentBookmark,page:n.currentPage}:{page:1};n.historyUnlocked=!1,n.allowHashChange=!1,window.history.back(),n._pushToHistory(t,!1,!0),window.history.forward(),n.historyUnlocked=!0}n._pushToHistory({hash:n.previousHash},!1,!0),n._updatePreviousBookmark()}},!1),window.addEventListener("beforeunload",t,!1),window.addEventListener("pageshow",function(){window.addEventListener("beforeunload",t,!1)},!1)}},_isStateObjectDefined:function(e){return e&&e.uid>=0&&e.fingerprint&&this.fingerprint===e.fingerprint&&e.target&&e.target.hash?!0:!1},_pushOrReplaceState:function(e,t){t?window.history.replaceState(e,"",document.URL):window.history.pushState(e,"",document.URL)},get isHashChangeUnlocked(){if(!this.initialized)return!0;var e=this.allowHashChange;return this.allowHashChange=!0,e},_updatePreviousBookmark:function(){this.updatePreviousBookmark&&this.currentBookmark&&this.currentPage&&(this.previousBookmark=this.currentBookmark,this.previousPage=this.currentPage,this.updatePreviousBookmark=!1)},updateCurrentBookmark:function(e,t){this.initialized&&(this.currentBookmark=e.substring(1),this.currentPage=0|t,this._updatePreviousBookmark())},updateNextHashParam:function(e){this.initialized&&(this.nextHashParam=e)},push:function(e,t){if(this.initialized&&this.historyUnlocked){if(e.dest&&!e.hash&&(e.hash=this.current.hash&&this.current.dest&&this.current.dest===e.dest?this.current.hash:Z.getDestinationHash(e.dest).split("#")[1]),e.page&&(e.page|=0),t){var i=window.history.state.target;return i||(this._pushToHistory(e,!1),this.previousHash=window.location.hash.substring(1)),this.updatePreviousBookmark=this.nextHashParam?!1:!0,void(i&&this._updatePreviousBookmark())}if(this.nextHashParam){if(this.nextHashParam===e.hash)return this.nextHashParam=null,void(this.updatePreviousBookmark=!0);this.nextHashParam=null}e.hash?this.current.hash?this.current.hash!==e.hash?this._pushToHistory(e,!0):(!this.current.page&&e.page&&this._pushToHistory(e,!1,!0),this.updatePreviousBookmark=!0):this._pushToHistory(e,!0):this.current.page&&e.page&&this.current.page!==e.page&&this._pushToHistory(e,!0)}},_getPreviousParams:function(e,t){if(!this.currentBookmark||!this.currentPage)return null;if(this.updatePreviousBookmark&&(this.updatePreviousBookmark=!1),this.uid>0&&(!this.previousBookmark||!this.previousPage))return null;if(!this.current.dest&&!e||t){if(this.previousBookmark===this.currentBookmark)return null}else{if(!this.current.page&&!e)return null;if(this.previousPage===this.currentPage)return null}var i={hash:this.currentBookmark,page:this.currentPage};return G.active&&(i.hash=null),i},_stateObj:function(e){return{fingerprint:this.fingerprint,uid:this.uid,target:e}},_pushToHistory:function(e,t,i){if(this.initialized){if(!e.hash&&e.page&&(e.hash="page="+e.page),t&&!i){var n=this._getPreviousParams();if(n){var s=!this.current.dest&&this.current.hash!==this.previousHash;this._pushToHistory(n,!1,s)}}this._pushOrReplaceState(this._stateObj(e),i||0===this.uid),this.currentUid=this.uid++,this.current=e,this.updatePreviousBookmark=!0}},_goTo:function(e){if(this.initialized&&this.historyUnlocked&&this._isStateObjectDefined(e)){if(!this.reInitialized&&e.uid<this.currentUid){var t=this._getPreviousParams(!0);if(t)return this._pushToHistory(this.current,!1),this._pushToHistory(t,!1),this.currentUid=e.uid,void window.history.back()}this.historyUnlocked=!1,e.target.dest?Z.navigateTo(e.target.dest):Z.setHash(e.target.hash),this.currentUid=e.uid,e.uid>this.uid&&(this.uid=e.uid),this.current=e.target,this.updatePreviousBookmark=!0;var i=window.location.hash.substring(1);this.previousHash!==i&&(this.allowHashChange=!1),this.previousHash=i,this.historyUnlocked=!0}},back:function(){this.go(-1)},forward:function(){this.go(1)},go:function(e){if(this.initialized&&this.historyUnlocked){var t=window.history.state;-1===e&&t&&t.uid>0?window.history.back():1===e&&t&&t.uid<this.uid-1&&window.history.forward()}}},V={opened:!1,previousContainerHeight:null,newContainerHeight:null,initialize:function(e){this.toolbar=e.toolbar,this.presentationMode=e.presentationMode,this.documentProperties=e.documentProperties,this.buttonContainer=this.toolbar.firstElementChild,this.toggleButton=e.toggleButton,this.presentationModeButton=e.presentationModeButton,this.openFile=e.openFile,this.print=e.print,this.download=e.download,this.viewBookmark=e.viewBookmark,this.firstPage=e.firstPage,this.lastPage=e.lastPage,this.pageRotateCw=e.pageRotateCw,this.pageRotateCcw=e.pageRotateCcw,this.documentPropertiesButton=e.documentPropertiesButton;var t=[{element:this.toggleButton,handler:this.toggle},{element:this.presentationModeButton,handler:this.presentationModeClick},{element:this.openFile,handler:this.openFileClick},{element:this.print,handler:this.printClick},{element:this.download,handler:this.downloadClick},{element:this.viewBookmark,handler:this.viewBookmarkClick},{element:this.firstPage,handler:this.firstPageClick},{element:this.lastPage,handler:this.lastPageClick},{element:this.pageRotateCw,handler:this.pageRotateCwClick},{element:this.pageRotateCcw,handler:this.pageRotateCcwClick},{element:this.documentPropertiesButton,handler:this.documentPropertiesClick}];for(var i in t){var n=t[i].element;n&&n.addEventListener("click",t[i].handler.bind(this))}},presentationModeClick:function(){this.presentationMode.request(),this.close()},openFileClick:function(){document.getElementById("fileInput").click(),this.close()},printClick:function(){window.print(),this.close()},downloadClick:function(){Z.download(),this.close()},viewBookmarkClick:function(){this.close()},firstPageClick:function(){Z.page=1,this.close()},lastPageClick:function(){Z.page=Z.pdfDocument.numPages,this.close()},pageRotateCwClick:function(){Z.rotatePages(90)},pageRotateCcwClick:function(){Z.rotatePages(-90)},documentPropertiesClick:function(){this.documentProperties.show(),this.close()},setMaxHeight:function(e){e&&this.buttonContainer&&(this.newContainerHeight=e.clientHeight,this.previousContainerHeight!==this.newContainerHeight&&(this.buttonContainer.setAttribute("style","max-height: "+(this.newContainerHeight-m)+"px;"),this.previousContainerHeight=this.newContainerHeight))},open:function(){this.opened||(this.opened=!0,this.toggleButton.classList.add("toggled"),this.toolbar.classList.remove("hidden"))},close:function(e){this.opened&&(!e||this.toolbar.contains(e))&&(this.opened=!1,this.toolbar.classList.add("hidden"),this.toggleButton.classList.remove("toggled"))},toggle:function(){this.opened?this.close():this.open()}},j={visible:!1,updatePassword:null,reason:null,overlayContainer:null,passwordField:null,passwordText:null,passwordSubmit:null,passwordCancel:null,initialize:function(e){this.overlayContainer=e.overlayContainer,this.passwordField=e.passwordField,this.passwordText=e.passwordText,this.passwordSubmit=e.passwordSubmit,this.passwordCancel=e.passwordCancel,this.passwordSubmit.addEventListener("click",this.verifyPassword.bind(this)),this.passwordCancel.addEventListener("click",this.hide.bind(this)),this.passwordField.addEventListener("keydown",function(e){13===e.keyCode&&this.verifyPassword()}.bind(this)),window.addEventListener("keydown",function(e){27===e.keyCode&&this.hide()}.bind(this))},show:function(){if(!this.visible){this.visible=!0,this.overlayContainer.classList.remove("hidden"),this.overlayContainer.firstElementChild.classList.remove("hidden"),this.passwordField.focus();var e=B.get("password_label",null,"Enter the password to open this PDF file.");this.reason===PDFJS.PasswordResponses.INCORRECT_PASSWORD&&(e=B.get("password_invalid",null,"Invalid password. Please try again.")),this.passwordText.textContent=e}},hide:function(){this.visible&&(this.visible=!1,this.passwordField.value="",this.overlayContainer.classList.add("hidden"),this.overlayContainer.firstElementChild.classList.add("hidden"))},verifyPassword:function(){var e=this.passwordField.value;return e&&e.length>0?(this.hide(),this.updatePassword(e)):void 0}},W=3e3,J="presentationControls",q=1e3,G={active:!1,args:null,contextMenuOpen:!1,prevCoords:{x:null,y:null},initialize:function(e){this.container=e.container,this.secondaryToolbar=e.secondaryToolbar,this.viewer=this.container.firstElementChild,this.firstPage=e.firstPage,this.lastPage=e.lastPage,this.pageRotateCw=e.pageRotateCw,this.pageRotateCcw=e.pageRotateCcw,this.firstPage.addEventListener("click",function(){this.contextMenuOpen=!1,this.secondaryToolbar.firstPageClick()}.bind(this)),this.lastPage.addEventListener("click",function(){this.contextMenuOpen=!1,this.secondaryToolbar.lastPageClick()}.bind(this)),this.pageRotateCw.addEventListener("click",function(){this.contextMenuOpen=!1,this.secondaryToolbar.pageRotateCwClick()}.bind(this)),this.pageRotateCcw.addEventListener("click",function(){this.contextMenuOpen=!1,this.secondaryToolbar.pageRotateCcwClick()}.bind(this))},get isFullscreen(){return document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement},_setSwitchInProgress:function(){this.switchInProgress&&clearTimeout(this.switchInProgress),this.switchInProgress=setTimeout(function(){delete this.switchInProgress}.bind(this),q),Z.currentPosition=null},_resetSwitchInProgress:function(){this.switchInProgress&&(clearTimeout(this.switchInProgress),delete this.switchInProgress)},request:function(){if(!Z.supportsFullscreen||this.isFullscreen||!this.viewer.hasChildNodes())return!1;if(this._setSwitchInProgress(),this.container.requestFullscreen)this.container.requestFullscreen();else if(this.container.mozRequestFullScreen)this.container.mozRequestFullScreen();else if(this.container.webkitRequestFullScreen)this.container.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);else{if(!this.container.msRequestFullscreen)return!1;this.container.msRequestFullscreen()}return this.args={page:Z.page,previousScale:Z.currentScaleValue},!0},enter:function(){this.active=!0,this._resetSwitchInProgress(),setTimeout(function(){Z.page=this.args.page,Z.setScale("page-fit",!0)}.bind(this),0),window.addEventListener("mousemove",this.mouseMove,!1),window.addEventListener("mousedown",this.mouseDown,!1),window.addEventListener("contextmenu",this.contextMenu,!1),this.showControls(),K.enterPresentationMode(),this.contextMenuOpen=!1,this.container.setAttribute("contextmenu","viewerContextMenu")},exit:function(){var e=Z.page;setTimeout(function(){this.active=!1,Z.setScale(this.args.previousScale),Z.page=e,this.args=null}.bind(this),0),window.removeEventListener("mousemove",this.mouseMove,!1),window.removeEventListener("mousedown",this.mouseDown,!1),window.removeEventListener("contextmenu",this.contextMenu,!1),this.hideControls(),Z.clearMouseScrollState(),K.exitPresentationMode(),this.container.removeAttribute("contextmenu"),this.contextMenuOpen=!1,i(document.getElementById("thumbnailContainer"+e))},showControls:function(){this.controlsTimeout?clearTimeout(this.controlsTimeout):this.container.classList.add(J),this.controlsTimeout=setTimeout(function(){this.container.classList.remove(J),delete this.controlsTimeout
}.bind(this),W)},hideControls:function(){this.controlsTimeout&&(this.container.classList.remove(J),clearTimeout(this.controlsTimeout),delete this.controlsTimeout)},mouseMove:function(e){var t={x:e.clientX,y:e.clientY},i=G.prevCoords;G.prevCoords=t,(t.x!==i.x||t.y!==i.y)&&G.showControls()},mouseDown:function(e){var t=G;if(t.contextMenuOpen)return t.contextMenuOpen=!1,void e.preventDefault();if(0===e.button){var i=e.target.href&&e.target.classList.contains("internalLink");i||(e.preventDefault(),Z.page+=e.shiftKey?-1:1)}},contextMenu:function(){G.contextMenuOpen=!0}};!function(){function e(){G.isFullscreen?G.enter():G.exit()}window.addEventListener("fullscreenchange",e,!1),window.addEventListener("mozfullscreenchange",e,!1),window.addEventListener("webkitfullscreenchange",e,!1),window.addEventListener("MSFullscreenChange",e,!1)}();var Y=function(){function e(e){this.element=e.element,this.document=e.element.ownerDocument,"function"==typeof e.ignoreTarget&&(this.ignoreTarget=e.ignoreTarget),this.onActiveChanged=e.onActiveChanged,this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.toggle=this.toggle.bind(this),this._onmousedown=this._onmousedown.bind(this),this._onmousemove=this._onmousemove.bind(this),this._endPan=this._endPan.bind(this);var t=this.overlay=document.createElement("div");t.className="grab-to-pan-grabbing"}function t(e){return"buttons"in e&&n?!(1|e.buttons):a||o?0===e.which:void 0}e.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function(){this.active||(this.active=!0,this.element.addEventListener("mousedown",this._onmousedown,!0),this.element.classList.add(this.CSS_CLASS_GRAB),this.onActiveChanged&&this.onActiveChanged(!0))},deactivate:function(){this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onmousedown,!0),this._endPan(),this.element.classList.remove(this.CSS_CLASS_GRAB),this.onActiveChanged&&this.onActiveChanged(!1))},toggle:function(){this.active?this.deactivate():this.activate()},ignoreTarget:function(e){return e[i]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function(e){if(0===e.button&&!this.ignoreTarget(e.target)){if(e.originalTarget)try{e.originalTarget.tagName}catch(t){return}this.scrollLeftStart=this.element.scrollLeft,this.scrollTopStart=this.element.scrollTop,this.clientXStart=e.clientX,this.clientYStart=e.clientY,this.document.addEventListener("mousemove",this._onmousemove,!0),this.document.addEventListener("mouseup",this._endPan,!0),this.element.addEventListener("scroll",this._endPan,!0),e.preventDefault(),e.stopPropagation(),this.document.documentElement.classList.add(this.CSS_CLASS_GRABBING)}},_onmousemove:function(e){if(this.element.removeEventListener("scroll",this._endPan,!0),t(e))return void this._endPan();var i=e.clientX-this.clientXStart,n=e.clientY-this.clientYStart;this.element.scrollTop=this.scrollTopStart-n,this.element.scrollLeft=this.scrollLeftStart-i,this.overlay.parentNode||document.body.appendChild(this.overlay)},_endPan:function(){this.element.removeEventListener("scroll",this._endPan,!0),this.document.removeEventListener("mousemove",this._onmousemove,!0),this.document.removeEventListener("mouseup",this._endPan,!0),this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)}};var i;["webkitM","mozM","msM","oM","m"].some(function(e){var t=e+"atches";return t in document.documentElement&&(i=t),t+="Selector",t in document.documentElement&&(i=t),i});var n=!document.documentMode||document.documentMode>9,s=window.chrome,a=s&&(s.webstore||s.app),o=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent);return e}(),K={initialize:function(e){var t=e.toggleHandTool;this.handTool=new Y({element:e.container,onActiveChanged:function(e){t&&(e?(t.title=B.get("hand_tool_disable.title",null,"Disable hand tool"),t.firstElementChild.textContent=B.get("hand_tool_disable_label",null,"Disable hand tool")):(t.title=B.get("hand_tool_enable.title",null,"Enable hand tool"),t.firstElementChild.textContent=B.get("hand_tool_enable_label",null,"Enable hand tool")))}}),t&&(t.addEventListener("click",this.toggle.bind(this),!1),window.addEventListener("localized",function(){M.get("enableHandToolOnLoad").then(function(e){e&&this.handTool.activate()}.bind(this))}.bind(this)))},toggle:function(){this.handTool.toggle(),V.close()},enterPresentationMode:function(){this.handTool.active&&(this.wasActive=!0,this.handTool.deactivate())},exitPresentationMode:function(){this.wasActive&&(this.wasActive=null,this.handTool.activate())}},X={overlayContainer:null,fileName:"",fileSize:"",visible:!1,fileNameField:null,fileSizeField:null,titleField:null,authorField:null,subjectField:null,keywordsField:null,creationDateField:null,modificationDateField:null,creatorField:null,producerField:null,versionField:null,pageCountField:null,initialize:function(e){this.overlayContainer=e.overlayContainer,this.fileNameField=e.fileNameField,this.fileSizeField=e.fileSizeField,this.titleField=e.titleField,this.authorField=e.authorField,this.subjectField=e.subjectField,this.keywordsField=e.keywordsField,this.creationDateField=e.creationDateField,this.modificationDateField=e.modificationDateField,this.creatorField=e.creatorField,this.producerField=e.producerField,this.versionField=e.versionField,this.pageCountField=e.pageCountField,e.closeButton&&e.closeButton.addEventListener("click",this.hide.bind(this)),this.dataAvailablePromise=new Promise(function(e){this.resolveDataAvailable=e}.bind(this)),window.addEventListener("keydown",function(e){27===e.keyCode&&this.hide()}.bind(this))},getProperties:function(){this.visible&&(this.fileName=s(Z.url),Z.pdfDocument.getDownloadInfo().then(function(e){this.setFileSize(e.length),this.updateUI(this.fileSizeField,this.fileSize)}.bind(this)),Z.pdfDocument.getMetadata().then(function(e){var t=[{field:this.fileNameField,content:this.fileName},{field:this.titleField,content:e.info.Title},{field:this.authorField,content:e.info.Author},{field:this.subjectField,content:e.info.Subject},{field:this.keywordsField,content:e.info.Keywords},{field:this.creationDateField,content:this.parseDate(e.info.CreationDate)},{field:this.modificationDateField,content:this.parseDate(e.info.ModDate)},{field:this.creatorField,content:e.info.Creator},{field:this.producerField,content:e.info.Producer},{field:this.versionField,content:e.info.PDFFormatVersion},{field:this.pageCountField,content:Z.pdfDocument.numPages}];for(var i in t){var n=t[i];this.updateUI(n.field,n.content)}}.bind(this)))},updateUI:function(e,t){e&&void 0!==t&&""!==t&&(e.textContent=t)},setFileSize:function(e){var t=e/1024;this.fileSize=1024>t?B.get("document_properties_kb",{size_kb:(+t.toPrecision(3)).toLocaleString(),size_b:e.toLocaleString()},"{{size_kb}} KB ({{size_b}} bytes)"):B.get("document_properties_mb",{size_mb:(+(t/1024).toPrecision(3)).toLocaleString(),size_b:e.toLocaleString()},"{{size_mb}} MB ({{size_b}} bytes)")},show:function(){this.visible||(this.visible=!0,this.overlayContainer.classList.remove("hidden"),this.overlayContainer.lastElementChild.classList.remove("hidden"),this.dataAvailablePromise.then(function(){this.getProperties()}.bind(this)))},hide:function(){this.visible&&(this.visible=!1,this.overlayContainer.classList.add("hidden"),this.overlayContainer.lastElementChild.classList.add("hidden"))},parseDate:function(e){var t=e;if(void 0===t)return"";"D:"===t.substring(0,2)&&(t=t.substring(2));var i=parseInt(t.substring(0,4),10),n=parseInt(t.substring(4,6),10)-1,s=parseInt(t.substring(6,8),10),a=parseInt(t.substring(8,10),10),o=parseInt(t.substring(10,12),10),r=parseInt(t.substring(12,14),10),d=t.substring(14,15),l=parseInt(t.substring(15,17),10),h=parseInt(t.substring(18,20),10);"-"==d?(a+=l,o+=h):"+"==d&&(a-=l,o+=h);var c=new Date(Date.UTC(i,n,s,a,o,r)),u=c.toLocaleDateString(),g=c.toLocaleTimeString();return B.get("document_properties_date_string",{date:u,time:g},"{{date}}, {{time}}")}},Z={pages:[],thumbnails:[],currentScale:g,currentScaleValue:null,initialBookmark:document.location.hash.substring(1),container:null,thumbnailContainer:null,initialized:!1,fellback:!1,pdfDocument:null,sidebarOpen:!1,pageViewScroll:null,thumbnailViewScroll:null,pageRotation:0,mouseScrollTimeStamp:0,mouseScrollDelta:0,lastScroll:0,previousPageNumber:1,isViewerEmbedded:window.parent!==window,idleTimeout:null,currentPosition:null,initialize:function(){var e=this,t=this.container=document.getElementById("viewerContainer");this.pageViewScroll={},this.watchScroll(t,this.pageViewScroll,r);var i=this.thumbnailContainer=document.getElementById("thumbnailView");this.thumbnailViewScroll={},this.watchScroll(i,this.thumbnailViewScroll,this.renderHighestPriority.bind(this)),M.initialize(),O.initialize({bar:document.getElementById("findbar"),toggleButton:document.getElementById("viewFind"),findField:document.getElementById("findInput"),highlightAllCheckbox:document.getElementById("findHighlightAll"),caseSensitiveCheckbox:document.getElementById("findMatchCase"),findMsg:document.getElementById("findMsg"),findStatusIcon:document.getElementById("findStatusIcon"),findPreviousButton:document.getElementById("findPrevious"),findNextButton:document.getElementById("findNext")}),H.initialize({pdfPageSource:this,integratedFind:this.supportsIntegratedFind}),K.initialize({container:t,toggleHandTool:document.getElementById("toggleHandTool")}),V.initialize({toolbar:document.getElementById("secondaryToolbar"),presentationMode:G,toggleButton:document.getElementById("secondaryToolbarToggle"),presentationModeButton:document.getElementById("secondaryPresentationMode"),openFile:document.getElementById("secondaryOpenFile"),print:document.getElementById("secondaryPrint"),download:document.getElementById("secondaryDownload"),viewBookmark:document.getElementById("secondaryViewBookmark"),firstPage:document.getElementById("firstPage"),lastPage:document.getElementById("lastPage"),pageRotateCw:document.getElementById("pageRotateCw"),pageRotateCcw:document.getElementById("pageRotateCcw"),documentProperties:X,documentPropertiesButton:document.getElementById("documentProperties")}),j.initialize({overlayContainer:document.getElementById("overlayContainer"),passwordField:document.getElementById("password"),passwordText:document.getElementById("passwordText"),passwordSubmit:document.getElementById("passwordSubmit"),passwordCancel:document.getElementById("passwordCancel")}),G.initialize({container:t,secondaryToolbar:V,firstPage:document.getElementById("contextFirstPage"),lastPage:document.getElementById("contextLastPage"),pageRotateCw:document.getElementById("contextPageRotateCw"),pageRotateCcw:document.getElementById("contextPageRotateCcw")}),X.initialize({overlayContainer:document.getElementById("overlayContainer"),closeButton:document.getElementById("documentPropertiesClose"),fileNameField:document.getElementById("fileNameField"),fileSizeField:document.getElementById("fileSizeField"),titleField:document.getElementById("titleField"),authorField:document.getElementById("authorField"),subjectField:document.getElementById("subjectField"),keywordsField:document.getElementById("keywordsField"),creationDateField:document.getElementById("creationDateField"),modificationDateField:document.getElementById("modificationDateField"),creatorField:document.getElementById("creatorField"),producerField:document.getElementById("producerField"),versionField:document.getElementById("versionField"),pageCountField:document.getElementById("pageCountField")}),t.addEventListener("scroll",function(){e.lastScroll=Date.now()},!1);var n=Promise.all([M.get("enableWebGL").then(function(e){PDFJS.disableWebGL=!e})]);return n.then(function(){Z.initialized=!0})},getPage:function(e){return this.pdfDocument.getPage(e)},watchScroll:function(e,t,i){t.down=!0,t.lastY=e.scrollTop,e.addEventListener("scroll",function(){var n=e.scrollTop,s=t.lastY;n>s?t.down=!0:s>n&&(t.down=!1),t.lastY=n,i()},!0)},_setScaleUpdatePages:function(e,t,i,n){if(this.currentScaleValue=t,e!==this.currentScale){for(var s=0,a=this.pages.length;a>s;s++)this.pages[s].update(e);if(this.currentScale=e,!n){var o,r=this.page;this.currentPosition&&!C&&(r=this.currentPosition.page,o=[null,{name:"XYZ"},this.currentPosition.left,this.currentPosition.top,null]),this.pages[r-1].scrollIntoView(o)}var d=document.createEvent("UIEvents");d.initUIEvent("scalechange",!1,!1,window,0),d.scale=e,d.resetAutoSettings=i,window.dispatchEvent(d)}},setScale:function(e,t,i){if("custom"!==e){var n=parseFloat(e);if(n>0)this._setScaleUpdatePages(n,e,!0,i);else{var s=this.pages[this.page-1];if(!s)return;var a=G.active?0:m,o=G.active?0:p,r=(this.container.clientWidth-a)/s.width*s.scale,l=(this.container.clientHeight-o)/s.height*s.scale;switch(e){case"page-actual":n=1;break;case"page-width":n=r;break;case"page-height":n=l;break;case"page-fit":n=Math.min(r,l);break;case"auto":n=Math.min(v,r);break;default:return void console.error("pdfViewSetScale: '"+e+"' is an unknown zoom value.")}this._setScaleUpdatePages(n,e,t,i),d(e)}}},zoomIn:function(e){var t=this.currentScale;do t=(t*u).toFixed(2),t=Math.ceil(10*t)/10,t=Math.min(b,t);while(--e&&b>t);this.setScale(t,!0)},zoomOut:function(e){var t=this.currentScale;do t=(t/u).toFixed(2),t=Math.floor(10*t)/10,t=Math.max(w,t);while(--e&&t>w);this.setScale(t,!0)},set page(e){var t=this.pages,i=document.createEvent("UIEvents");return i.initUIEvent("pagechange",!1,!1,window,0),e>0&&e<=t.length?(t[e-1].updateStats(),this.previousPageNumber=z,z=e,i.pageNumber=e,window.dispatchEvent(i),void(r.inProgress||this.loading&&1===e||t[e-1].scrollIntoView())):(this.previousPageNumber=e,i.pageNumber=this.page,void window.dispatchEvent(i))},get page(){return z},get supportsPrinting(){var e=document.createElement("canvas"),t="mozPrintCallback"in e;return Object.defineProperty(this,"supportsPrinting",{value:t,enumerable:!0,configurable:!0,writable:!1}),t},get supportsFullscreen(){var e=document.documentElement,t=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen;return(document.fullscreenEnabled===!1||document.mozFullScreenEnabled===!1||document.webkitFullscreenEnabled===!1||document.msFullscreenEnabled===!1)&&(t=!1),Object.defineProperty(this,"supportsFullscreen",{value:t,enumerable:!0,configurable:!0,writable:!1}),t},get supportsIntegratedFind(){var e=!1;return Object.defineProperty(this,"supportsIntegratedFind",{value:e,enumerable:!0,configurable:!0,writable:!1}),e},get supportsDocumentFonts(){var e=!0;return Object.defineProperty(this,"supportsDocumentFonts",{value:e,enumerable:!0,configurable:!0,writable:!1}),e},get supportsDocumentColors(){var e=!0;return Object.defineProperty(this,"supportsDocumentColors",{value:e,enumerable:!0,configurable:!0,writable:!1}),e},get loadingBar(){var e=new D("#loadingBar",{});return Object.defineProperty(this,"loadingBar",{value:e,enumerable:!0,configurable:!0,writable:!1}),e},get isHorizontalScrollbarEnabled(){return G.active?!1:this.container.scrollWidth>this.container.clientWidth},setTitleUsingUrl:function(t){this.url=t;try{this.setTitle(decodeURIComponent(e(t))||t)}catch(i){this.setTitle(t)}},setTitle:function(e){document.title=e},close:function(){if(this.pdfDocument){this.pdfDocument.destroy(),this.pdfDocument=null;var e=document.getElementById("errorWrapper");e.setAttribute("hidden","true");for(var t=document.getElementById("thumbnailView");t.hasChildNodes();)t.removeChild(t.lastChild);"_loadingInterval"in t&&clearInterval(t._loadingInterval);for(var i=document.getElementById("viewer");i.hasChildNodes();)i.removeChild(i.lastChild);"undefined"!=typeof PDFBug&&PDFBug.cleanup()}},open:function(e,t,i,n,s){function a(e){d.progress(e.loaded/e.total)}this.pdfDocument&&(this.close(),M.reload());var o={password:i};if("string"==typeof e?o.url=e:e&&"byteLength"in e&&(o.data=e),s)for(var r in s)o[r]=s[r];var d=this;d.loading=!0,d.downloadComplete=!1;var l=function(e,t){j.updatePassword=e,j.reason=t,j.show()};PDFJS.getDocument(o,n,l,a).then(function(e){d.load(e,t),d.loading=!1},function(e,t){var i=B.get("loading_error",null,"An error occurred while loading the PDF.");t&&"InvalidPDFException"===t.name&&(i=B.get("invalid_file_error",null,"Invalid or corrupted PDF file.")),t&&"MissingPDFException"===t.name&&(i=B.get("missing_file_error",null,"Missing PDF file."));var n={message:e};d.error(i,n),d.loading=!1})},download:function(){function e(){n.downloadUrl(t,i)}var t=this.url.split("#")[0],i=s(t),n=new N;return n.onerror=function(){Z.error("PDF failed to download.")},this.pdfDocument&&this.downloadComplete?void this.pdfDocument.getData().then(function(e){var s=PDFJS.createBlob(e,"application/pdf");n.download(s,t,i)},e).then(null,e):void e()},fallback:function(){},navigateTo:function(e){var t="",i=this,n=function(s){i.pendingRefStr=null;var a=s instanceof Object?i.pagesRefMap[s.num+" "+s.gen+" R"]:s+1;if(a){a>i.pages.length&&(a=i.pages.length);var o=i.pages[a-1];o.scrollIntoView(e),U.push({dest:e,hash:t,page:a})}else i.pdfDocument.getPageIndex(s).then(function(e){var t=e+1;i.pagesRefMap[s.num+" "+s.gen+" R"]=t,n(s)})};this.destinationsPromise.then(function(){"string"==typeof e&&(t=e,e=i.destinations[e]),e instanceof Array&&n(e[0])})},getDestinationHash:function(e){if("string"==typeof e)return Z.getAnchorUrl("#"+escape(e));if(e instanceof Array){var t=e[0],i=t instanceof Object?this.pagesRefMap[t.num+" "+t.gen+" R"]:t+1;if(i){var n=Z.getAnchorUrl("#page="+i),s=e[1];if("object"==typeof s&&"name"in s&&"XYZ"==s.name){var a=e[4]||this.currentScaleValue,o=parseFloat(a);o&&(a=100*o),n+="&zoom="+a,(e[2]||e[3])&&(n+=","+(e[2]||0)+","+(e[3]||0))}return n}}return""},getAnchorUrl:function(e){return e},error:function(e,t){var i=B.get("error_version_info",{version:PDFJS.version||"?",build:PDFJS.build||"?"},"PDF.js v{{version}} (build: {{build}})")+"\n";t&&(i+=B.get("error_message",{message:t.message},"Message: {{message}}"),t.stack?i+="\n"+B.get("error_stack",{stack:t.stack},"Stack: {{stack}}"):(t.filename&&(i+="\n"+B.get("error_file",{file:t.filename},"File: {{file}}")),t.lineNumber&&(i+="\n"+B.get("error_line",{line:t.lineNumber},"Line: {{line}}"))));var s=document.getElementById("errorWrapper");s.removeAttribute("hidden");var a=document.getElementById("errorMessage");a.textContent=e;var o=document.getElementById("errorClose");o.onclick=function(){s.setAttribute("hidden","true")};var r=document.getElementById("errorMoreInfo"),d=document.getElementById("errorShowMore"),l=document.getElementById("errorShowLess");d.onclick=function(){r.removeAttribute("hidden"),d.setAttribute("hidden","true"),l.removeAttribute("hidden"),r.style.height=r.scrollHeight+"px"},l.onclick=function(){r.setAttribute("hidden","true"),d.removeAttribute("hidden"),l.setAttribute("hidden","true")},d.oncontextmenu=n,l.oncontextmenu=n,o.oncontextmenu=n,d.removeAttribute("hidden"),l.setAttribute("hidden","true"),r.value=i},progress:function(e){var t=Math.round(100*e);t>Z.loadingBar.percent&&(Z.loadingBar.percent=t)},load:function(e,t){function i(e,t){e.onAfterDraw=function(){s||(s=!0,a()),t.setImage(e.canvas)}}var n=this,s=!1,a=null,o=new Promise(function(e){a=e});H.reset(),this.pdfDocument=e,X.resolveDataAvailable();var r=e.getDownloadInfo().then(function(){n.downloadComplete=!0,Z.loadingBar.hide();var e=document.getElementById("outerContainer");e.classList.remove("loadingInProgress")}),d=e.numPages,l=e.fingerprint;document.getElementById("numPages").textContent=B.get("page_of",{pageCount:d},"of {{pageCount}}"),document.getElementById("pageNumber").max=d,Z.documentFingerprint=l;var h=Z.store=new A(l);this.pageRotation=0;var c,u=this.pages=[],g=this.pagesRefMap={},f=this.thumbnails=[],m=new Promise(function(e){c=e});this.pagesPromise=m;var p=e.getPage(1),v=document.getElementById("viewer"),w=document.getElementById("thumbnailView");p.then(function(s){for(var a=s.getViewport((t||1)*CSS_UNITS),l=1;d>=l;++l){var h=a.clone(),m=new Q(v,l,t,n.navigateTo.bind(n),h),p=new $(w,l,h);i(m,p),u.push(m),f.push(p)}o.then(function(){if(PDFJS.disableAutoFetch)c();else for(var t=d,i=1;d>=i;++i)e.getPage(i).then(function(e,i){var n=u[e-1];n.pdfPage||n.setPdfPage(i);var s=i.ref.num+" "+i.ref.gen+" R";g[s]=e,t--,t||c()}.bind(null,i))}),r.then(function(){var e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(e)}),Z.loadingBar.setWidth(v),H.resolveFirstPage(),U.initialize(n.documentFingerprint)});var b,y,P=M.get("showPreviousViewOnLoad").then(function(e){b=e}),I=M.get("defaultZoomValue").then(function(e){y=e}),S=h.initializedPromise;Promise.all([p,S,P,I]).then(function(){var e=null;if(b&&h.get("exists",!1)){var i=h.get("page","1"),s=y||h.get("zoom",Z.currentScale),a=h.get("scrollLeft","0"),o=h.get("scrollTop","0");e="page="+i+"&zoom="+s+","+a+","+o}else y&&(e="page=1&zoom="+y);n.setInitialView(e,t),n.isViewerEmbedded||n.container.focus()},function(e){console.error(e),p.then(function(){n.setInitialView(null,t)})}),m.then(function(){Z.supportsPrinting&&e.getJavaScript().then(function(e){e.length&&(console.warn("Warning: JavaScript is not supported"),Z.fallback(PDFJS.UNSUPPORTED_FEATURES.javaScript));for(var t=/\bprint\s*\(/g,i=0,n=e.length;n>i;i++){var s=e[i];if(s&&t.test(s))return void setTimeout(function(){window.print()})}})});var E=this.destinationsPromise=e.getDestinations();E.then(function(e){n.destinations=e});var k=[m,E,Z.animationStartedPromise];Promise.all(k).then(function(){e.getOutline().then(function(e){n.outline=new nt(e),document.getElementById("viewOutline").disabled=!e,e&&M.get("ifAvailableShowOutlineOnLoad").then(function(e){e&&(n.sidebarOpen||document.getElementById("sidebarToggle").click(),n.switchSidebarView("outline"))})})}),e.getMetadata().then(function(t){var i=t.info,s=t.metadata;n.documentInfo=i,n.metadata=s,console.log("PDF "+e.fingerprint+" ["+i.PDFFormatVersion+" "+(i.Producer||"-").trim()+" / "+(i.Creator||"-").trim()+"] (PDF.js: "+(PDFJS.version||"-")+(PDFJS.disableWebGL?"":" [WebGL]")+")");var a;s&&s.has("dc:title")&&(a=s.get("dc:title")),!a&&i&&i.Title&&(a=i.Title),i.IsAcroFormPresent&&(console.warn("Warning: AcroForm/XFA is not supported"),Z.fallback(PDFJS.UNSUPPORTED_FEATURES.forms))})},setInitialView:function(e,t){this.currentScale=0,this.currentScaleValue=null,document.getElementById("pageNumber").value=z=1,this.currentPosition=null,U.initialDestination?(this.navigateTo(U.initialDestination),U.initialDestination=null):this.initialBookmark?(this.setHash(this.initialBookmark),U.push({hash:this.initialBookmark},!!this.initialBookmark),this.initialBookmark=null):e?this.setHash(e):t&&(this.setScale(t,!0),this.page=1),Z.currentScale===g&&this.setScale(c,!0)},renderHighestPriority:function(){Z.idleTimeout&&(clearTimeout(Z.idleTimeout),Z.idleTimeout=null);var e=this.getVisiblePages(),t=this.getHighestPriority(e,this.pages,this.pageViewScroll.down);if(t)return void this.renderView(t,"page");if(this.sidebarOpen){var i=this.getVisibleThumbs(),n=this.getHighestPriority(i,this.thumbnails,this.thumbnailViewScroll.down);if(n)return void this.renderView(n,"thumbnail")}Z.idleTimeout=setTimeout(function(){Z.cleanup()},k)},cleanup:function(){for(var e=0,t=this.pages.length;t>e;e++)this.pages[e]&&this.pages[e].renderingState!==F.FINISHED&&this.pages[e].reset();this.pdfDocument.cleanup()},getHighestPriority:function(e,t,i){var n=e.views,s=n.length;if(0===s)return!1;for(var a=0;s>a;++a){var o=n[a].view;if(!this.isViewFinished(o))return o}if(i){var r=e.last.id;if(t[r]&&!this.isViewFinished(t[r]))return t[r]}else{var d=e.first.id-2;if(t[d]&&!this.isViewFinished(t[d]))return t[d]}return!1},isViewFinished:function(e){return e.renderingState===F.FINISHED},renderView:function(e,t){var i=e.renderingState;switch(i){case F.FINISHED:return!1;case F.PAUSED:Z.highestPriorityPage=t+e.id,e.resume();break;case F.RUNNING:Z.highestPriorityPage=t+e.id;break;case F.INITIAL:Z.highestPriorityPage=t+e.id,e.draw(this.renderHighestPriority.bind(this))}return!0},setHash:function(e){if(e)if(e.indexOf("=")>=0){var t=Z.parseQueryString(e);if("nameddest"in t)return U.updateNextHashParam(t.nameddest),void Z.navigateTo(t.nameddest);var i,n;if("page"in t&&(i=0|t.page||1),"zoom"in t){var s=t.zoom.split(","),a=s[0],o=parseFloat(a);o&&(a=o/100),n=[null,{name:"XYZ"},s.length>1?0|s[1]:null,s.length>2?0|s[2]:null,a]}if(n){var r=this.pages[(i||this.page)-1];r.scrollIntoView(n)}else i&&(this.page=i);if("pagemode"in t){var d=document.getElementById("sidebarToggle");"thumbs"===t.pagemode||"bookmarks"===t.pagemode?(this.sidebarOpen||d.click(),this.switchSidebarView("thumbs"===t.pagemode?"thumbs":"outline")):"none"===t.pagemode&&this.sidebarOpen&&d.click()}}else/^\d+$/.test(e)?this.page=e:(U.updateNextHashParam(unescape(e)),Z.navigateTo(unescape(e)))},switchSidebarView:function(e){var t=document.getElementById("thumbnailView"),n=document.getElementById("outlineView"),s=document.getElementById("viewThumbnail"),a=document.getElementById("viewOutline");switch(e){case"thumbs":var o=t.classList.contains("hidden");s.classList.add("toggled"),a.classList.remove("toggled"),t.classList.remove("hidden"),n.classList.add("hidden"),Z.renderHighestPriority(),o&&i(document.getElementById("thumbnailContainer"+this.page));break;case"outline":if(s.classList.remove("toggled"),a.classList.add("toggled"),t.classList.add("hidden"),n.classList.remove("hidden"),a.getAttribute("disabled"))return}},getVisiblePages:function(){if(G.active){var e=[],t=this.pages[this.page-1];return e.push({id:t.id,view:t}),{first:t,last:t,views:e}}return this.getVisibleElements(this.container,this.pages,!0)},getVisibleThumbs:function(){return this.getVisibleElements(this.thumbnailContainer,this.thumbnails)},getVisibleElements:function(e,t,i){for(var n,s,a,o,r,d,l,h=e.scrollTop,c=h+e.clientHeight,u=e.scrollLeft,g=u+e.clientWidth,f=[],m=0,p=t.length;p>m;++m)if(n=t[m],s=n.el.offsetTop+n.el.clientTop,a=n.el.clientHeight,!(h>s+a)){if(s>c)break;d=n.el.offsetLeft+n.el.clientLeft,l=n.el.clientWidth,u>d+l||d>g||(o=Math.max(0,h-s)+Math.max(0,s+a-c),r=100*(a-o)/a|0,f.push({id:n.id,x:d,y:s,view:n,percent:r}))}var v=f[0],w=f[f.length-1];return i&&f.sort(function(e,t){var i=e.percent-t.percent;return Math.abs(i)>.001?-i:e.id-t.id}),{first:v,last:w,views:f}},parseQueryString:function(e){var t=e.split("&"),i={},n=0;for(t.length;n<t.length;++n){var s=t[n].split("="),a=s[0],o=s.length>1?s[1]:null;i[decodeURIComponent(a)]=decodeURIComponent(o)}return i},beforePrint:function(){if(!this.supportsPrinting){var e=B.get("printing_not_supported",null,"Warning: Printing is not fully supported by this browser.");return void this.error(e)}var t,i,n=!1;if(this.pages.length){for(t=0,i=this.pages.length;i>t;++t)if(!this.pages[t].pdfPage){n=!0;break}}else n=!0;if(n){var s=B.get("printing_not_ready",null,"Warning: The PDF is not fully loaded for printing.");return void window.alert(s)}var a=document.querySelector("body");for(a.setAttribute("data-mozPrintCallback",!0),t=0,i=this.pages.length;i>t;++t)this.pages[t].beforePrint()},afterPrint:function(){for(var e=document.getElementById("printContainer");e.hasChildNodes();)e.removeChild(e.lastChild)},rotatePages:function(e){var t,i,n=this.pages[this.page-1];for(this.pageRotation=(this.pageRotation+360+e)%360,t=0,i=this.pages.length;i>t;t++){var s=this.pages[t];s.update(s.scale,this.pageRotation)}for(t=0,i=this.thumbnails.length;i>t;t++){var a=this.thumbnails[t];a.update(this.pageRotation)}this.setScale(this.currentScaleValue,!0,!0),this.renderHighestPriority(),n&&n.scrollIntoView()},mouseScroll:function(e){var t=50,i=(new Date).getTime(),n=this.mouseScrollTimeStamp;if(!(i>n&&t>i-n)){(this.mouseScrollDelta>0&&0>e||this.mouseScrollDelta<0&&e>0)&&this.clearMouseScrollState(),this.mouseScrollDelta+=e;var s=120;if(Math.abs(this.mouseScrollDelta)>=s){var a={UP:-1,DOWN:1},o=this.mouseScrollDelta>0?a.UP:a.DOWN;this.clearMouseScrollState();var r=this.page;if(1==r&&o==a.UP||r==this.pages.length&&o==a.DOWN)return;this.page+=o,this.mouseScrollTimeStamp=i}}},clearMouseScrollState:function(){this.mouseScrollTimeStamp=0,this.mouseScrollDelta=0}},Q=function(e,n,s,a,o){function r(e,t,i){function n(e,t){e.href=Z.getDestinationHash(t),e.onclick=function(){return t&&Z.navigateTo(t),!1},t&&(e.className="internalLink")}function s(e,t){e.href=Z.getAnchorUrl(""),e.onclick=function(){switch(t){case"GoToPage":document.getElementById("pageNumber").focus();break;case"GoBack":U.back();break;case"GoForward":U.forward();break;case"Find":Z.supportsIntegratedFind||O.toggle();break;case"NextPage":Z.page++;break;case"PrevPage":Z.page--;break;case"LastPage":Z.page=Z.pages.length;break;case"FirstPage":Z.page=1}return!1},e.className="internalLink"}t.getAnnotations().then(function(a){h.annotationLayer&&(e.removeChild(h.annotationLayer),h.annotationLayer=null),i=i.clone({dontFlip:!0});for(var o=0;o<a.length;o++){var r=a[o],d=PDFJS.Annotation.fromData(r);if(d&&d.hasHtml()){var l=d.getHtmlElement(t.commonObjs);B.translate(l),r=d.getData();var c=r.rect,u=t.view;c=PDFJS.Util.normalizeRect([c[0],u[3]-c[1]+u[1],c[2],u[3]-c[3]+u[1]]),l.style.left=c[0]+"px",l.style.top=c[1]+"px",l.style.position="absolute";var g=i.transform,f="matrix("+g.join(",")+")";L.setProp("transform",l,f);var m=-c[0]+"px "+-c[1]+"px";if(L.setProp("transformOrigin",l,m),"Link"===r.subtype&&!r.url){var p=l.getElementsByTagName("a")[0];p&&(r.action?s(p,r.action):n(p,"dest"in r?r.dest:null))}if(!h.annotationLayer){var v=document.createElement("div");v.className="annotationLayer",e.appendChild(v),h.annotationLayer=v}h.annotationLayer.appendChild(l)}}})}this.id=n,this.rotation=0,this.scale=s||1,this.viewport=o,this.pdfPageRotate=o.rotation,this.renderingState=F.INITIAL,this.resume=null,this.textLayer=null,this.zoomLayer=null,this.annotationLayer=null;var d=document.createElement("a");d.name=""+this.id;var l=this.el=document.createElement("div");l.id="pageContainer"+this.id,l.className="page",l.style.width=Math.floor(this.viewport.width)+"px",l.style.height=Math.floor(this.viewport.height)+"px",e.appendChild(d),e.appendChild(l),this.setPdfPage=function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport(this.scale*CSS_UNITS,t),this.stats=e.stats,this.reset()},this.destroy=function(){this.zoomLayer=null,this.reset(),this.pdfPage&&this.pdfPage.destroy()},this.reset=function(){this.renderTask&&this.renderTask.cancel(),this.resume=null,this.renderingState=F.INITIAL,l.style.width=Math.floor(this.viewport.width)+"px",l.style.height=Math.floor(this.viewport.height)+"px";for(var e=l.childNodes,t=l.childNodes.length-1;t>=0;t--){var i=e[t];this.zoomLayer&&this.zoomLayer===i||l.removeChild(i)}l.removeAttribute("data-loaded"),this.annotationLayer=null,delete this.canvas,this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",l.appendChild(this.loadingIconDiv)},this.update=function(e,t){this.scale=e||this.scale,"undefined"!=typeof t&&(this.rotation=t);var i=(this.rotation+this.pdfPageRotate)%360;return this.viewport=this.viewport.clone({scale:this.scale*CSS_UNITS,rotation:i}),E&&this.canvas?void this.cssTransform(this.canvas):(this.canvas&&!this.zoomLayer&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute"),this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),void this.reset())},this.cssTransform=function(e){var t=this.viewport.width,i=this.viewport.height;e.style.width=e.parentNode.style.width=l.style.width=Math.floor(t)+"px",e.style.height=e.parentNode.style.height=l.style.height=Math.floor(i)+"px";var n=this.viewport.rotation-e._viewport.rotation,s=Math.abs(n),a=1,o=1;(90===s||270===s)&&(a=i/t,o=t/i);var d="rotate("+n+"deg) scale("+a+","+o+")";if(L.setProp("transform",e,d),this.textLayer){var h=this.viewport.rotation-this.textLayer.viewport.rotation,c=Math.abs(h),u=t/e.width;(90===c||270===c)&&(u=t/e.height);var g,f,m=this.textLayer.textLayerDiv;switch(c){case 0:g=f=0;break;case 90:g=0,f="-"+m.style.height;break;case 180:g="-"+m.style.width,f="-"+m.style.height;break;
case 270:g="-"+m.style.width,f=0;break;default:console.error("Bad rotation value.")}L.setProp("transform",m,"rotate("+c+"deg) scale("+u+", "+u+") translate("+g+", "+f+")"),L.setProp("transformOrigin",m,"0% 0%")}E&&this.annotationLayer&&r(l,this.pdfPage,this.viewport)},Object.defineProperty(this,"width",{get:function(){return this.viewport.width},enumerable:!0}),Object.defineProperty(this,"height",{get:function(){return this.viewport.height},enumerable:!0});var h=this;this.getPagePoint=function(e,t){return this.viewport.convertToPdfPoint(e,t)},this.scrollIntoView=function(e){if(G.active){if(Z.page!==this.id)return void(Z.page=this.id);e=null,Z.setScale(Z.currentScaleValue,!0,!0)}if(!e)return void i(l);var t,n,s=0,a=0,o=0,r=0,d=this.rotation%180===0?!1:!0,h=(d?this.height:this.width)/this.scale/CSS_UNITS,u=(d?this.width:this.height)/this.scale/CSS_UNITS,f=0;switch(e[1].name){case"XYZ":s=e[2],a=e[3],f=e[4],s=null!==s?s:0,a=null!==a?a:u;break;case"Fit":case"FitB":f="page-fit";break;case"FitH":case"FitBH":a=e[2],f="page-width";break;case"FitV":case"FitBV":s=e[2],o=h,r=u,f="page-height";break;case"FitR":s=e[2],a=e[3],o=e[4]-s,r=e[5]-a,t=(Z.container.clientWidth-m)/o/CSS_UNITS,n=(Z.container.clientHeight-m)/r/CSS_UNITS,f=Math.min(Math.abs(t),Math.abs(n));break;default:return}if(f&&f!==Z.currentScale?Z.setScale(f,!0,!0):Z.currentScale===g&&Z.setScale(c,!0,!0),"page-fit"===f&&!e[4])return void i(l);var p=[this.viewport.convertToViewportPoint(s,a),this.viewport.convertToViewportPoint(s+o,a+r)],v=Math.min(p[0][0],p[1][0]),w=Math.min(p[0][1],p[1][1]);i(l,{left:v,top:w})},this.getTextContent=function(){return Z.getPage(this.id).then(function(e){return e.getTextContent()})},this.draw=function(e){function i(t){if(v===m.renderTask&&(m.renderTask=null),"cancelled"!==t){m.renderingState=F.FINISHED,m.loadingIconDiv&&(l.removeChild(m.loadingIconDiv),delete m.loadingIconDiv),m.zoomLayer&&(l.removeChild(m.zoomLayer),m.zoomLayer=null),t&&Z.error(B.get("rendering_error",null,"An error occurred while rendering the page."),t),m.stats=n.stats,m.updateStats(),m.onAfterDraw&&m.onAfterDraw(),R.push(m);var i=document.createEvent("CustomEvent");i.initCustomEvent("pagerender",!0,!0,{pageNumber:n.pageNumber}),l.dispatchEvent(i),e()}}var n=this.pdfPage;if(!this.pagePdfPromise){if(!n){var s=Z.getPage(this.id);return s.then(function(t){delete this.pagePdfPromise,this.setPdfPage(t),this.draw(e)}.bind(this)),void(this.pagePdfPromise=s)}this.renderingState!==F.INITIAL&&console.error("Must be in new state before drawing"),this.renderingState=F.RUNNING;var a=this.viewport,o=document.createElement("div");o.style.width=l.style.width,o.style.height=l.style.height,o.classList.add("canvasWrapper");var d=document.createElement("canvas");d.id="page"+this.id,o.appendChild(d),l.appendChild(o),this.canvas=d;var h=(this.scale,d.getContext("2d")),c=t(h);if(E){var u=a.clone({scale:CSS_UNITS});c.sx*=u.width/a.width,c.sy*=u.height/a.height,c.scaled=!0}d.width=Math.floor(a.width)*c.sx|0,d.height=Math.floor(a.height)*c.sy|0,d.style.width=Math.floor(a.width)+"px",d.style.height=Math.floor(a.height)+"px",d._viewport=a;var g=null;PDFJS.disableTextLayer||(g=document.createElement("div"),g.className="textLayer",g.style.width=d.style.width,g.style.height=d.style.height,l.appendChild(g));var f=this.textLayer=g?new it({textLayerDiv:g,pageIndex:this.id-1,lastScrollSource:Z,viewport:this.viewport,isViewerInPresentationMode:G.active}):null;h._scaleX=c.sx,h._scaleY=c.sy,c.scaled&&h.scale(c.sx,c.sy);var m=this,p={canvasContext:h,viewport:this.viewport,textLayer:f,continueCallback:function(e){return Z.highestPriorityPage!=="page"+m.id?(m.renderingState=F.PAUSED,void(m.resume=function(){m.renderingState=F.RUNNING,e()})):void e()}},v=this.renderTask=this.pdfPage.render(p);this.renderTask.promise.then(function(){i(null),f&&m.getTextContent().then(function(e){f.setTextContent(e)})},function(e){i(e)}),r(l,n,this.viewport),l.setAttribute("data-loaded",!0)}},this.beforePrint=function(){var e=this.pdfPage,t=e.getViewport(1),i=2,n=document.createElement("canvas");n.width=Math.floor(t.width)*i,n.height=Math.floor(t.height)*i,n.style.width=i*t.width+"pt",n.style.height=i*t.height+"pt";var s="scale("+1/i+", "+1/i+")";L.setProp("transform",n,s),L.setProp("transformOrigin",n,"0% 0%");var a=document.getElementById("printContainer"),o=document.createElement("div");o.style.width=t.width+"pt",o.style.height=t.height+"pt",o.appendChild(n),a.appendChild(o);n.mozPrintCallback=function(s){var a=s.context;a.save(),a.fillStyle="rgb(255, 255, 255)",a.fillRect(0,0,n.width,n.height),a.restore(),a.scale(i,i);var o={canvasContext:a,viewport:t,intent:"print"};e.render(o).promise.then(function(){s.done()},function(e){console.error(e),"abort"in s?s.abort():s.done()})}},this.updateStats=function(){if(this.stats&&PDFJS.pdfBug&&Stats.enabled){var e=this.stats;Stats.add(this.id,e)}}},$=function(e,t,i){var n=document.createElement("a");n.href=Z.getAnchorUrl("#page="+t),n.title=B.get("thumb_page_title",{page:t},"Page {{page}}"),n.onclick=function(){return Z.page=t,!1},this.pdfPage=void 0,this.viewport=i,this.pdfPageRotate=i.rotation,this.rotation=0,this.pageWidth=this.viewport.width,this.pageHeight=this.viewport.height,this.pageRatio=this.pageWidth/this.pageHeight,this.id=t,this.canvasWidth=98,this.canvasHeight=this.canvasWidth/this.pageWidth*this.pageHeight,this.scale=this.canvasWidth/this.pageWidth;var s=this.el=document.createElement("div");s.id="thumbnailContainer"+t,s.className="thumbnail",1===t&&s.classList.add("selected");var a=document.createElement("div");a.className="thumbnailSelectionRing",a.style.width=this.canvasWidth+"px",a.style.height=this.canvasHeight+"px",s.appendChild(a),n.appendChild(s),e.appendChild(n),this.hasImage=!1,this.renderingState=F.INITIAL,this.setPdfPage=function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate;var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport(1,t),this.update()},this.update=function(e){void 0!==e&&(this.rotation=e);var t=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:t}),this.pageWidth=this.viewport.width,this.pageHeight=this.viewport.height,this.pageRatio=this.pageWidth/this.pageHeight,this.canvasHeight=this.canvasWidth/this.pageWidth*this.pageHeight,this.scale=this.canvasWidth/this.pageWidth,s.removeAttribute("data-loaded"),a.textContent="",a.style.width=this.canvasWidth+"px",a.style.height=this.canvasHeight+"px",this.hasImage=!1,this.renderingState=F.INITIAL,this.resume=null},this.getPageDrawContext=function(){var e=document.createElement("canvas");e.id="thumbnail"+t,e.width=this.canvasWidth,e.height=this.canvasHeight,e.className="thumbnailImage",e.setAttribute("aria-label",B.get("thumb_page_canvas",{page:t},"Thumbnail of Page {{page}}")),s.setAttribute("data-loaded",!0),a.appendChild(e);var i=e.getContext("2d");return i.save(),i.fillStyle="rgb(255, 255, 255)",i.fillRect(0,0,this.canvasWidth,this.canvasHeight),i.restore(),i},this.drawingRequired=function(){return!this.hasImage},this.draw=function(e){if(!this.pdfPage){var t=Z.getPage(this.id);return void t.then(function(t){this.setPdfPage(t),this.draw(e)}.bind(this))}if(this.renderingState!==F.INITIAL&&console.error("Must be in new state before drawing"),this.renderingState=F.RUNNING,this.hasImage)return void e();var i=this,n=this.getPageDrawContext(),s=this.viewport.clone({scale:this.scale}),a={canvasContext:n,viewport:s,continueCallback:function(e){return Z.highestPriorityPage!=="thumbnail"+i.id?(i.renderingState=F.PAUSED,void(i.resume=function(){i.renderingState=F.RUNNING,e()})):void e()}};this.pdfPage.render(a).promise.then(function(){i.renderingState=F.FINISHED,e()},function(){i.renderingState=F.FINISHED,e()}),this.hasImage=!0},this.setImage=function(e){if(!this.pdfPage){var t=Z.getPage(this.id);return void t.then(function(t){this.setPdfPage(t),this.setImage(e)}.bind(this))}if(!this.hasImage&&e){this.renderingState=F.FINISHED;var i=this.getPageDrawContext();i.drawImage(e,0,0,e.width,e.height,0,0,i.canvas.width,i.canvas.height),this.hasImage=!0}}},et=-50,tt=-400,it=function(e){var t=document.createDocumentFragment();this.textLayerDiv=e.textLayerDiv,this.layoutDone=!1,this.divContentDone=!1,this.pageIdx=e.pageIndex,this.matches=[],this.lastScrollSource=e.lastScrollSource,this.viewport=e.viewport,this.isViewerInPresentationMode=e.isViewerInPresentationMode,this.textDivs=[],"undefined"==typeof H&&(window.PDFFindController=null),"undefined"==typeof this.lastScrollSource&&(this.lastScrollSource=null),this.renderLayer=function(){var e=this.textDivs,i=document.createElement("canvas"),n=i.getContext("2d"),s=1e5;if(!(e.length>s)){for(var a=0,o=e.length;o>a;a++){var r=e[a];if(!("isWhitespace"in r.dataset)){n.font=r.style.fontSize+" "+r.style.fontFamily;var d=n.measureText(r.textContent).width;if(d>0){t.appendChild(r);var l=r.dataset.canvasWidth/d,h=r.dataset.angle,c="scale("+l+", 1)";c="rotate("+h+"deg) "+c,L.setProp("transform",r,c),L.setProp("transformOrigin",r,"0% 0%")}}}this.textLayerDiv.appendChild(t),this.renderingDone=!0,this.updateMatches()}},this.setupRenderLayoutTimer=function(){var e=200,t=this,i=null===this.lastScrollSource?0:this.lastScrollSource.lastScroll;Date.now()-i>e?this.renderLayer():(this.renderTimer&&clearTimeout(this.renderTimer),this.renderTimer=setTimeout(function(){t.setupRenderLayoutTimer()},e))},this.appendText=function(e,t){var i=t[e.fontName],n=document.createElement("div");if(this.textDivs.push(n),!/\S/.test(e.str))return void(n.dataset.isWhitespace=!0);var s=PDFJS.Util.transform(this.viewport.transform,e.transform),a=Math.atan2(s[1],s[0]);i.vertical&&(a+=Math.PI/2);var o=Math.sqrt(s[2]*s[2]+s[3]*s[3]),r=i.ascent?i.ascent*o:i.descent?(1+i.descent)*o:o;n.style.position="absolute",n.style.left=s[4]+r*Math.sin(a)+"px",n.style.top=s[5]-r*Math.cos(a)+"px",n.style.fontSize=o+"px",n.style.fontFamily=i.fontFamily,n.textContent=e.str,n.dataset.fontName=e.fontName,n.dataset.angle=a*(180/Math.PI),n.dataset.canvasWidth=i.vertical?e.height*this.viewport.scale:e.width*this.viewport.scale},this.setTextContent=function(e){this.textContent=e;for(var t=e.items,i=0;i<t.length;i++)this.appendText(t[i],e.styles);this.divContentDone=!0,this.setupRenderLayoutTimer()},this.convertMatches=function(e){for(var t=0,i=0,n=this.textContent.items,s=n.length-1,a=null===H?0:H.state.query.length,o=[],r=0;r<e.length;r++){for(var d=e[r];t!==s&&d>=i+n[t].str.length;)i+=n[t].str.length,t++;t==n.length&&console.error("Could not find matching mapping");var l={begin:{divIdx:t,offset:d-i}};for(d+=a;t!==s&&d>i+n[t].str.length;)i+=n[t].str.length,t++;l.end={divIdx:t,offset:d-i},o.push(l)}return o},this.renderMatches=function(e){function t(e,t){var i=e.divIdx,n=d[i];n.textContent="",s(i,0,e.offset,t)}function n(e,t,i){s(e.divIdx,e.offset,t.offset,i)}function s(e,t,i,n){var s=d[e],a=r[e].str.substring(t,i),o=document.createTextNode(a);if(n){var l=document.createElement("span");return l.className=n,l.appendChild(o),void s.appendChild(l)}s.appendChild(o)}function a(e,t){d[e].className=t}if(0!==e.length){var o,r=this.textContent.items,d=this.textDivs,l=null,h=null===H?!1:this.pageIdx===H.selected.pageIdx,c=null===H?-1:H.selected.matchIdx,u=null===H?!1:H.state.highlightAll,g={divIdx:-1,offset:void 0},f=c,m=f+1;if(u)f=0,m=e.length;else if(!h)return;for(o=f;m>o;o++){var p=e[o],v=p.begin,w=p.end,b=h&&o===c,y=b?" selected":"";if(b&&!this.isViewerInPresentationMode&&i(d[v.divIdx],{top:et,left:tt}),l&&v.divIdx===l.divIdx?n(l,v):(null!==l&&n(l,g),t(v)),v.divIdx===w.divIdx)n(v,w,"highlight"+y);else{n(v,g,"highlight begin"+y);for(var P=v.divIdx+1;P<w.divIdx;P++)a(P,"highlight middle"+y);t(w,"highlight end"+y)}l=w}l&&n(l,g)}},this.updateMatches=function(){if(this.renderingDone){for(var e=this.matches,t=this.textDivs,i=this.textContent.items,n=-1,s=0;s<e.length;s++){for(var a=e[s],o=Math.max(n,a.begin.divIdx),r=o;r<=a.end.divIdx;r++){var d=t[r];d.textContent=i[r].str,d.className=""}n=a.end.divIdx+1}null!==H&&H.active&&(this.matches=e=this.convertMatches(null===H?[]:H.pageMatches[this.pageIdx]||[]),this.renderMatches(this.matches))}}},nt=function(e){function t(e,t){e.href=Z.getDestinationHash(t.dest),e.onclick=function(){return Z.navigateTo(t.dest),!1}}var i=document.getElementById("outlineView");for(document.getElementById("viewOutline");i.firstChild;)i.removeChild(i.firstChild);if(!e)return void(i.classList.contains("hidden")||Z.switchSidebarView("thumbs"));for(var n=[{parent:i,items:e}];n.length>0;){var s,a=n.shift(),o=a.items.length;for(s=0;o>s;s++){var r=a.items[s],d=document.createElement("div");d.className="outlineItem";var l=document.createElement("a");if(t(l,r),l.textContent=r.title,d.appendChild(l),r.items.length>0){var h=document.createElement("div");h.className="outlineItems",d.appendChild(h),n.push({parent:h,items:r.items})}a.parent.appendChild(d)}}};return window.addEventListener("resize",function(){Z.initialized&&(document.getElementById("pageWidthOption").selected||document.getElementById("pageFitOption").selected||document.getElementById("pageAutoOption").selected)&&Z.setScale(document.getElementById("scaleSelect").value),r(),V.setMaxHeight(Z.container)}),window.addEventListener("hashchange",function(){U.isHashChangeUnlocked&&Z.setHash(document.location.hash.substring(1))}),window.addEventListener("change",function(e){var t=e.target.files;if(t&&0!==t.length){var i=t[0];if(!PDFJS.disableCreateObjectURL&&"undefined"!=typeof URL&&URL.createObjectURL)Z.open(URL.createObjectURL(i),0);else{var n=new FileReader;n.onload=function(e){var t=e.target.result,i=new Uint8Array(t);Z.open(i,0)},n.readAsArrayBuffer(i)}Z.setTitleUsingUrl(i.name),document.getElementById("viewBookmark").setAttribute("hidden","true"),document.getElementById("secondaryViewBookmark").setAttribute("hidden","true"),document.getElementById("download").setAttribute("hidden","true"),document.getElementById("secondaryDownload").setAttribute("hidden","true")}},!0),window.addEventListener("localized",function(){document.getElementsByTagName("html")[0].dir=B.getDirection(),Z.animationStartedPromise.then(function(){var e=document.getElementById("scaleSelectContainer");if(e.clientWidth>0){var t=document.getElementById("scaleSelect");t.setAttribute("style","min-width: inherit;");var i=t.clientWidth+P;t.setAttribute("style","min-width: "+(i+I)+"px;"),e.setAttribute("style","min-width: "+i+"px; max-width: "+i+"px;")}V.setMaxHeight(Z.container)})},!0),window.addEventListener("scalechange",function(e){document.getElementById("zoomOut").disabled=e.scale===w,document.getElementById("zoomIn").disabled=e.scale===b;var t=document.getElementById("customScaleOption");if(t.selected=!1,!e.resetAutoSettings&&(document.getElementById("pageWidthOption").selected||document.getElementById("pageFitOption").selected||document.getElementById("pageAutoOption").selected))return void r();var i=d(""+e.scale);i||(t.textContent=Math.round(1e4*e.scale)/100+"%",t.selected=!0),r()},!0),window.addEventListener("pagechange",function(e){var t=e.pageNumber;if(Z.previousPageNumber!==t){document.getElementById("pageNumber").value=t;var n=document.querySelector(".thumbnail.selected");n&&n.classList.remove("selected");var s=document.getElementById("thumbnailContainer"+t);s.classList.add("selected");var a=Z.getVisibleThumbs(),o=a.views.length;if(o>0){var r=a.first.id,d=o>1?a.last.id:r;(r>=t||t>=d)&&i(s,{top:S})}}document.getElementById("previous").disabled=1>=t,document.getElementById("next").disabled=t>=Z.pages.length},!0),window.addEventListener("DOMMouseScroll",l),window.addEventListener("mousewheel",l),window.addEventListener("click",function(e){G.active?0===e.button&&e.preventDefault():V.opened&&Z.container.contains(e.target)&&V.close()},!1),window.addEventListener("keydown",function(e){if(!j.visible){var t=!1,i=(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0);if(1===i||8===i||5===i||12===i)switch(e.keyCode){case 70:Z.supportsIntegratedFind||(O.open(),t=!0);break;case 71:Z.supportsIntegratedFind||(O.dispatchEvent("again",5===i||12===i),t=!0);break;case 61:case 107:case 187:case 171:Z.zoomIn(),t=!0;break;case 173:case 109:case 189:Z.zoomOut(),t=!0;break;case 48:case 96:setTimeout(function(){Z.setScale(c,!0)}),t=!1}if(1===i||8===i)switch(e.keyCode){case 83:Z.download(),t=!0}if(3===i||10===i)switch(e.keyCode){case 80:V.presentationModeClick(),t=!0;break;case 71:document.getElementById("pageNumber").select(),t=!0}if(t)return void e.preventDefault();var n=document.activeElement||document.querySelector(":focus"),s=n&&n.tagName.toUpperCase();if("INPUT"!==s&&"TEXTAREA"!==s&&"SELECT"!==s||27===e.keyCode){if(0===i)switch(e.keyCode){case 38:case 33:case 8:if(!G.active&&"page-fit"!==Z.currentScaleValue)break;case 37:if(Z.isHorizontalScrollbarEnabled)break;case 75:case 80:Z.page--,t=!0;break;case 27:V.opened&&(V.close(),t=!0),!Z.supportsIntegratedFind&&O.opened&&(O.close(),t=!0);break;case 40:case 34:case 32:if(!G.active&&"page-fit"!==Z.currentScaleValue)break;case 39:if(Z.isHorizontalScrollbarEnabled)break;case 74:case 78:Z.page++,t=!0;break;case 36:G.active&&(Z.page=1,t=!0);break;case 35:G.active&&(Z.page=Z.pdfDocument.numPages,t=!0);break;case 72:G.active||K.toggle();break;case 82:Z.rotatePages(90)}if(4===i)switch(e.keyCode){case 32:if(!G.active&&"page-fit"!==Z.currentScaleValue)break;Z.page--,t=!0;break;case 82:Z.rotatePages(-90)}if(t||G.active||(e.keyCode>=33&&e.keyCode<=40&&!Z.container.contains(n)&&Z.container.focus(),32===e.keyCode&&"BUTTON"!==s&&(Z.container.contains(n)||Z.container.focus())),2===i)switch(e.keyCode){case 37:G.active&&(U.back(),t=!0);break;case 39:G.active&&(U.forward(),t=!0)}t&&(e.preventDefault(),Z.clearMouseScrollState())}}}),window.addEventListener("beforeprint",function(){Z.beforePrint()}),window.addEventListener("afterprint",function(){Z.afterPrint()}),function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){e()};Z.animationStartedPromise=new Promise(function(t){e(function(){t()})})}(),a});